define(function(i){i("../../driver/global"),i("../../touch/hammer");{var e=R.Class.create(R.util,{initialize:function(){this.checkLogin(),this.loadData(),this.events()},loadData:function(){this.req("/weixinqrcode/customerqrcode.php",this.param,function(i){var e=JSON.parse(i.data);if(i.issuccess){var n=$('<img src="'+e.qrcodeurl+'">');$(".loading").remove(),$(".promotion-wrap").append(n)}else alert(i.msg)})},events:function(){$(".promotion-btn").hammer().on("tap",function(){window.location="./integral.jsp"})}});new e}});