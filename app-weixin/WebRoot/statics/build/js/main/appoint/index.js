define(function(t){t("../../driver/global"),t("../../touch/hammer");{var a=R.Class.create(R.util,{initialize:function(){this.checkLogin(),this.orderstatus="001",this.loadData(this.orderstatus),this.events()},loadData:function(a){var s=this,r={orderstatus:a};this.req("/order/findbystatus.php",r,function(a){var r=$(".appoint-list");if(""!=a.data){var e=JSON.parse(a.data),i={appointArr:e},n=t("../../tpl/appoint/list");s.render(r,n,i),$("[appoint-wrap]").find(".no-result").remove()}else{if(r.html(""),"001"==s.orderstatus)var o=$('<p class="no-result">您当前没有服务单</p>');else var o=$('<p class="no-result">暂无订单</p>');$("[appoint-wrap]").find(".no-result").length||$("[appoint-wrap]").append(o)}})},events:function(){var t=this;$(".appoint-tab-item").hammer().on("tap",function(){$(this).addClass("active").siblings().removeClass("active"),"servering"==$(this).attr("orderstatus")?t.orderstatus="001":"servered"==$(this).attr("orderstatus")?t.orderstatus="002":"appointment"==$(this).attr("orderstatus")&&(t.orderstatus="003"),t.loadData(t.orderstatus)})}});new a}});