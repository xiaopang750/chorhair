/*! company 罗格斯达 version 1.0.0 2015-06-17 */
define("widget/dom/modify2",[],function(e,t,r){var i=R.Class.create(R.until,{initialize:function(e){this.index=e.index||100,this.oWrap=e.oWrap||null,this.target=e.target||"",this.noHideEle=e.noHideEle||"no-hide",this.triggerBtn=e.triggerBtn||"[trigger-btn]",this.onTrigger=e.onTrigger||null,this.onShow=e.onShow||null,this.onHide=e.onHide||null,this.padding=3,this.createModifyInput(),this.events()},createModifyInput:function(){this.oHolderInput=$('<input type="text" no-hide>'),this.oHolderInput.css({display:"none",position:"absolute",zIndex:this.index,border:"1px solid #ccc",padding:this.padding}),$("body").append(this.oHolderInput)},showInput:function(e){var t,r,i,n,o;i=e.width(),n=e.height(),t=e.offset().left,r=e.offset().top,o=e.html(),this.oHolderInput.val(o),this.oHolderInput.css({width:i,height:n,lineHeight:n,left:t,top:r-this.padding,display:"block"}),this.oHolderInput.trigger("focus")},events:function(){var e=this;this.oWrap.on("click",this.target,function(){var t=e.onShow&&e.onShow();if(0!=t)return e.showInput($(this)),e.oNowTarget=$(this),!1}),this.oWrap.on("click",this.triggerBtn,function(){return e.onTrigger&&e.onTrigger($(this)),!1}),$(document).on("click",function(t){var r=$(t.target),i=e.oHolderInput.is(":visible"),n="undefined"!=r.attr("no-hide");i&&!n&&e.inputHide()})},inputHide:function(){var e=this.oHolderInput.val()==this.oNowTarget.html()?!1:!0;this.onHide&&this.onHide(this.oNowTarget,e,this.oHolderInput.val())},hide:function(){this.oHolderInput.hide()}});r.exports=i});