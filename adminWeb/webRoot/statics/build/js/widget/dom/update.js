/*! company 罗格斯达 version 1.0.0 2015-06-17 */
define("widget/dom/update",[],function(){function e(e,i){function n(e,t,i,n){var u=a/s;u>f?a>c&&(e.height=c):s>l&&(e.width=l),/webkit/gi.test(window.navigator.userAgent)?setTimeout(function(){n&&n({left:r(e).left,top:r(e).top,width:e.width,height:e.height,oldWidth:t,oldHeight:i})},o):n&&n({left:r(e).left,top:r(e).top,width:e.width,height:e.height,oldWidth:t,oldHeight:i})}var o=100,a=0,s=0,c=parseInt(e.wrapHeight)||0,l=parseInt(e.wrapWidth)||0,u=[],d=0,h=e.aEle||null,f=parseInt(c)/parseInt(l),p=h.length,m="position:static;*position:absolute;top:50%;",g="width:"+l+"px;height:"+c+"px;position: relative;display: table-cell;vertical-align:middle;text-align:center",v="position:static;*position:relative;top:-50%;left:-50%;";e.loading;for(var d=0,b=0;p>b;b++){var y=h[b].src;h[b].oldWidth=h[b].width,h[b].oldHeight=h[b].height,h[b].parentNode.style.cssText="overflow:hidden;width:"+l+"px;height:"+c+"px",h[b].setAttribute("_src",y),t(h[b],'<div class="middle-out"><div class="middle-in"></div></div>'),h[b].parentNode.style.cssText=m,h[b].parentNode.parentNode.style.cssText=g,h[b].style.cssText=v;var x=new Image;(function(e){x.onload=function(){d++,h[e].src=h[e].getAttribute("_src"),a=this.height,s=this.width,n(h[e],s,a,function(e){u.push(e),i&&i(u)})}})(b),x.src=y}}function t(e,t){function r(e){return a++,e=e.children[0],a==o?(s=e,void 0):(r(e),void 0)}var i=e.parentNode,n=/<+/g,o=parseInt(t.match(n).length/2),a=0,s=null;i.innerHTML=t,r(i),s.appendChild(e)}function r(e){for(var t=0,r=0;e;)t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:t,top:r}}return e});