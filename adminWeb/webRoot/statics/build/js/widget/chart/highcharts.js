/*! company 罗格斯达 version 1.0.0 2015-06-17 */
define("widget/chart/highcharts",[],function(){(function(){function e(e,t){var r;e||(e={});for(r in t)e[r]=t[r];return e}function t(){var e,t,r=arguments,i={},n=function(e,t){var r,i;"object"!=typeof e&&(e={});for(i in t)t.hasOwnProperty(i)&&(r=t[i],e[i]=r&&"object"==typeof r&&"[object Array]"!==Object.prototype.toString.call(r)&&"renderTo"!==i&&"number"!=typeof r.nodeType?n(e[i]||{},r):t[i]);return e};for(r[0]===!0&&(i=r[1],r=Array.prototype.slice.call(r,2)),t=r.length,e=0;t>e;e++)i=n(i,r[e]);return i}function r(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function n(e){return e&&"object"==typeof e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return"number"==typeof e}function s(e){return ct.log(e)/ct.LN10}function c(e){return ct.pow(10,e)}function l(e,t){for(var r=e.length;r--;)if(e[r]===t){e.splice(r,1);break}}function u(e){return e!==O&&null!==e}function d(e,t,r){var o,a;if(i(t))u(r)?e.setAttribute(t,r):e&&e.getAttribute&&(a=e.getAttribute(t));else if(u(t)&&n(t))for(o in t)e.setAttribute(o,t[o]);return a}function f(e){return o(e)?e:[e]}function h(){var e,t,r=arguments,i=r.length;for(e=0;i>e;e++)if(t=r[e],t!==O&&null!==t)return t}function p(t,r){wt&&!Tt&&r&&r.opacity!==O&&(r.filter="alpha(opacity="+100*r.opacity+")"),e(t.style,r)}function m(t,r,i,n,o){return t=at.createElement(t),r&&e(t,r),o&&p(t,{padding:0,border:Ot,margin:0}),i&&p(t,i),n&&n.appendChild(t),t}function g(t,r){var i=function(){return O};return i.prototype=new t,e(i.prototype,r),i}function v(e,t,i,n){var o=I.lang,e=+e||0,a=-1===t?((""+e).split(".")[1]||"").length:isNaN(t=pt(t))?2:t,t=void 0===i?o.decimalPoint:i,n=void 0===n?o.thousandsSep:n,o=0>e?"-":"",i=r(e=pt(e).toFixed(a))+"",s=i.length>3?i.length%3:0;return o+(s?i.substr(0,s)+n:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n)+(a?t+pt(e-i).toFixed(a).slice(2):"")}function b(e,t){return Array((t||2)+1-(e+"").length).join(0)+e}function y(e,t,r){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),r.apply(this,e)}}function x(e,t){for(var r,i,n,o,a,s="{",c=!1,l=[];-1!==(s=e.indexOf(s));){if(r=e.slice(0,s),c){for(i=r.split(":"),n=i.shift().split("."),a=n.length,r=t,o=0;a>o;o++)r=r[n[o]];i.length&&(i=i.join(":"),n=/\.([0-9])/,o=I.lang,a=void 0,/f$/.test(i)?(a=(a=i.match(n))?a[1]:-1,null!==r&&(r=v(r,a,o.decimalPoint,i.indexOf(",")>-1?o.thousandsSep:""))):r=U(i,r))}l.push(r),e=e.slice(s+1),s=(c=!c)?"}":"{"}return l.push(e),l.join("")}function w(e){return ct.pow(10,ut(ct.log(e)/ct.LN10))}function k(e,t,r,i){var n,r=h(r,1);for(n=e/r,t||(t=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===r?t=[1,2,5,10]:.1>=r&&(t=[1/r]))),i=0;t.length>i&&(e=t[i],!((t[i]+(t[i+1]||t[i]))/2>=n));i++);return e*=r}function S(e,t){var r,i,n=e.length;for(i=0;n>i;i++)e[i].ss_i=i;for(e.sort(function(e,i){return r=t(e,i),0===r?e.ss_i-i.ss_i:r}),i=0;n>i;i++)delete e[i].ss_i}function R(e){for(var t=e.length,r=e[0];t--;)r>e[t]&&(r=e[t]);return r}function P(e){for(var t=e.length,r=e[0];t--;)e[t]>r&&(r=e[t]);return r}function C(e,t){for(var r in e)e[r]&&e[r]!==t&&e[r].destroy&&e[r].destroy(),delete e[r]}function T(e){B||(B=m(Lt)),e&&B.appendChild(e),B.innerHTML=""}function q(e){return parseFloat(e.toPrecision(14))}function E(e,t){H=h(e,t.animation)}function $(){var e=I.global.useUTC,t=e?"getUTC":"get",r=e?"setUTC":"set";G=6e4*(e&&I.global.timezoneOffset||0),J=e?Date.UTC:function(e,t,r,i,n,o){return new Date(e,t,h(r,1),h(i,0),h(n,0),h(o,0)).getTime()},X=t+"Minutes",V=t+"Hours",Y=t+"Day",K=t+"Date",Q=t+"Month",Z=t+"FullYear",et=r+"Minutes",tt=r+"Hours",rt=r+"Date",it=r+"Month",nt=r+"FullYear"}function _(){}function A(e,t,r,i){this.axis=e,this.pos=t,this.type=r||"",this.isNew=!0,!r&&!i&&this.addLabel()}function N(){this.init.apply(this,arguments)}function D(){this.init.apply(this,arguments)}function L(e,t,r,i,n){var o=e.chart.inverted;this.axis=e,this.isNegative=r,this.options=t,this.x=i,this.total=null,this.points={},this.stack=n,this.alignOptions={align:t.align||(o?r?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":r?"bottom":"top"),y:h(t.y,o?4:r?14:-6),x:h(t.x,o?r?-6:6:0)},this.textAlign=t.textAlign||(o?r?"right":"left":"center")}var O,j,M,B,I,U,H,W,F,z,J,G,X,V,Y,K,Q,Z,et,tt,rt,it,nt,ot,at=document,st=window,ct=Math,lt=ct.round,ut=ct.floor,dt=ct.ceil,ft=ct.max,ht=ct.min,pt=ct.abs,mt=ct.cos,gt=ct.sin,vt=ct.PI,bt=2*vt/360,yt=navigator.userAgent,xt=st.opera,wt=/msie/i.test(yt)&&!xt,kt=8===at.documentMode,St=/AppleWebKit/.test(yt),Rt=/Firefox/.test(yt),Pt=/(Mobile|Android|Windows Phone)/.test(yt),Ct="http://www.w3.org/2000/svg",Tt=!!at.createElementNS&&!!at.createElementNS(Ct,"svg").createSVGRect,qt=Rt&&4>parseInt(yt.split("Firefox/")[1],10),Et=!Tt&&!wt&&!!at.createElement("canvas").getContext,$t={},_t=0,At=function(){return O},Nt=[],Dt=0,Lt="div",Ot="none",jt=/^[0-9]+$/,Mt="stroke-width",Bt={};st.Highcharts?z(16,!0):ot=st.Highcharts={},U=function(t,r,i){if(!u(r)||isNaN(r))return"Invalid date";var n,t=h(t,"%Y-%m-%d %H:%M:%S"),o=new Date(r-G),a=o[V](),s=o[Y](),c=o[K](),l=o[Q](),d=o[Z](),f=I.lang,p=f.weekdays,o=e({a:p[s].substr(0,3),A:p[s],d:b(c),e:c,b:f.shortMonths[l],B:f.months[l],m:b(l+1),y:(""+d).substr(2,2),Y:d,H:b(a),I:b(a%12||12),l:a%12||12,M:b(o[X]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:b(o.getSeconds()),L:b(lt(r%1e3),3)},ot.dateFormats);for(n in o)for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"==typeof o[n]?o[n](r):o[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},z=function(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw r;st.console&&console.log(r)},F={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},W={init:function(e,t,r){var i,n,o,t=t||"",a=e.shift,s=t.indexOf("C")>-1,c=s?7:3,t=t.split(" "),r=[].concat(r),l=function(e){for(i=e.length;i--;)"M"===e[i]&&e.splice(i+1,0,e[i+1],e[i+2],e[i+1],e[i+2])};if(s&&(l(t),l(r)),e.isArea&&(n=t.splice(t.length-6,6),o=r.splice(r.length-6,6)),r.length/c>=a&&t.length===r.length)for(;a--;)r=[].concat(r).splice(0,c).concat(r);if(e.shift=0,t.length)for(e=r.length;e>t.length;)a=[].concat(t).splice(t.length-c,c),s&&(a[c-6]=a[c-2],a[c-5]=a[c-1]),t=t.concat(a);return n&&(t=t.concat(n),r=r.concat(o)),[t,r]},step:function(e,t,r,i){var n=[],o=e.length;if(1===r)n=i;else if(o===t.length&&1>r)for(;o--;)i=parseFloat(e[o]),n[o]=isNaN(i)?e[o]:r*parseFloat(t[o]-i)+i;else n=t;return n}},function(t){st.HighchartsAdapter=st.HighchartsAdapter||t&&{init:function(e){var r,n=t.fx,o=n.step,a=t.Tween,s=a&&a.propHooks;r=t.cssHooks.opacity,t.extend(t.easing,{easeOutQuad:function(e,t,r,i,n){return-i*(t/=n)*(t-2)+r}}),t.each(["cur","_default","width","height","opacity"],function(e,t){var r,i=o;"cur"===t?i=n.prototype:"_default"===t&&a&&(i=s[t],t="set"),(r=i[t])&&(i[t]=function(i){var n,i=e?i:this;return"align"!==i.prop?(n=i.elem,n.attr?n.attr(i.prop,"cur"===t?O:i.now):r.apply(this,arguments)):void 0})}),y(r,"get",function(e,t,r){return t.attr?t.opacity||0:e.call(this,t,r)}),r=function(t){var r,i=t.elem;t.started||(r=e.init(i,i.d,i.toD),t.start=r[0],t.end=r[1],t.started=!0),i.attr("d",e.step(t.start,t.end,t.pos,i.toD))},a?s.d={set:r}:o.d=r,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var r,i=e.length;for(r=0;i>r;r++)if(t.call(e[r],e[r],r,e)===!1)return r},t.fn.highcharts=function(){var e,t,r="Chart",n=arguments;return this[0]&&(i(n[0])&&(r=n[0],n=Array.prototype.slice.call(n,1)),e=n[0],e!==O&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new ot[r](e,n[1]),t=this),e===O&&(t=Nt[d(this[0],"data-highcharts-chart")])),t}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,r){return t(e)[r]()},grep:t.grep,map:function(e,t){for(var r=[],i=0,n=e.length;n>i;i++)r[i]=t.call(e[i],e[i],i,e);return r},offset:function(e){return t(e).offset()},addEvent:function(e,r,i){t(e).bind(r,i)},removeEvent:function(e,r,i){var n=at.removeEventListener?"removeEventListener":"detachEvent";at[n]&&e&&!e[n]&&(e[n]=function(){}),t(e).unbind(r,i)},fireEvent:function(r,i,n,o){var a,s=t.Event(i),c="detached"+i;!wt&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),e(s,n),r[i]&&(r[c]=r[i],r[i]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var r=s[t];s[t]=function(){try{r.call(s)}catch(e){"preventDefault"===t&&(a=!0)}}}),t(r).trigger(s),r[c]&&(r[i]=r[c],r[c]=null),o&&!s.isDefaultPrevented()&&!a&&o(s)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===O&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,r,i){var n=t(e);e.style||(e.style={}),r.d&&(e.toD=r.d,r.d=1),n.stop(),r.opacity!==O&&e.attr&&(r.opacity+="px"),n.animate(r,i)},stop:function(e){t(e).stop()}}}(st.jQuery);var It=st.HighchartsAdapter,Ut=It||{};It&&It.init.call(It,W);var Ht=Ut.adapterRun,Wt=Ut.getScript,Ft=Ut.inArray,zt=Ut.each,Jt=Ut.grep,Gt=Ut.offset,Xt=Ut.map,Vt=Ut.addEvent,Yt=Ut.removeEvent,Kt=Ut.fireEvent,Qt=Ut.washMouseEvent,Zt=Ut.animate,er=Ut.stop,Ut={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};I={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Ut,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Tt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Pt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var tr=I.plotOptions,It=tr.line;$();var rr=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,ir=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,nr=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,or=function(e){var i,n,o=[];return function(e){e&&e.stops?n=Xt(e.stops,function(e){return or(e[1])}):(i=rr.exec(e))?o=[r(i[1]),r(i[2]),r(i[3]),parseFloat(i[4],10)]:(i=ir.exec(e))?o=[r(i[1],16),r(i[2],16),r(i[3],16),1]:(i=nr.exec(e))&&(o=[r(i[1]),r(i[2]),r(i[3]),1])}(e),{get:function(r){var i;return n?(i=t(e),i.stops=[].concat(i.stops),zt(n,function(e,t){i.stops[t]=[i.stops[t][0],e.get(r)]})):i=o&&!isNaN(o[0])?"rgb"===r?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===r?o[3]:"rgba("+o.join(",")+")":e,i},brighten:function(e){if(n)zt(n,function(t){t.brighten(e)});else if(a(e)&&0!==e){var t;for(t=0;3>t;t++)o[t]+=r(255*e),0>o[t]&&(o[t]=0),o[t]>255&&(o[t]=255)}return this},rgba:o,setOpacity:function(e){return o[3]=e,this}}};_.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(e,t){this.element="span"===t?m(t):at.createElementNS(Ct,t),this.renderer=e},animate:function(e,r,i){return r=h(r,H,!0),er(this),r?(r=t(r,{}),i&&(r.complete=i),Zt(this,e,r)):(this.attr(e),i&&i()),this},colorGradient:function(e,r,i){var n,a,s,c,l,d,f,h,p,m,g=this.renderer,v=[];if(e.linearGradient?a="linearGradient":e.radialGradient&&(a="radialGradient"),a){s=e[a],c=g.gradients,d=e.stops,p=i.radialReference,o(s)&&(e[a]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&p&&!u(s.gradientUnits)&&(s=t(s,{cx:p[0]-p[2]/2+s.cx*p[2],cy:p[1]-p[2]/2+s.cy*p[2],r:s.r*p[2],gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&v.push(m,s[m]);for(m in d)v.push(d[m]);v=v.join(","),c[v]?e=c[v].attr("id"):(s.id=e="highcharts-"+_t++,c[v]=l=g.createElement(a).attr(s).add(g.defs),l.stops=[],zt(d,function(e){0===e[1].indexOf("rgba")?(n=or(e[1]),f=n.get("rgb"),h=n.get("a")):(f=e[1],h=1),e=g.createElement("stop").attr({offset:e[0],"stop-color":f,"stop-opacity":h}).add(l),l.stops.push(e)})),i.setAttribute(r,"url("+g.url+"#"+e+")")}},attr:function(e,t){var r,i,n,o,a=this.element,s=this;if("string"==typeof e&&t!==O&&(r=e,e={},e[r]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(r in e)i=e[r],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(n||(this.symbolAttr(e),n=!0),o=!0),!this.rotation||"x"!==r&&"y"!==r||(this.doTransform=!0),o||(this[r+"Setter"]||this._defaultSetter).call(this,i,r,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,i);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(e,t){for(var r=this.shadows,i=r.length;i--;)r[i].setAttribute(e,"height"===e?ft(t-(r[i].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,r=d(t,"class")||"";return-1===r.indexOf(e)&&d(t,"class",r+" "+e),this},symbolAttr:function(e){var t=this;zt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(r){t[r]=h(e[r],t[r])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Ot)},crisp:function(e){var t,r,i={},n=e.strokeWidth||this.strokeWidth||0;r=lt(n)%2/2,e.x=ut(e.x||this.x||0)+r,e.y=ut(e.y||this.y||0)+r,e.width=ut((e.width||this.width||0)-2*r),e.height=ut((e.height||this.height||0)-2*r),e.strokeWidth=n;for(t in e)this[t]!==e[t]&&(this[t]=i[t]=e[t]);return i},css:function(t){var i,n,o=this.styles,a={},s=this.element,c="";if(i=!o,t&&t.color&&(t.fill=t.color),o)for(n in t)t[n]!==o[n]&&(a[n]=t[n],i=!0);if(i){if(i=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&r(t.width),o&&(t=e(o,a)),this.styles=t,i&&(Et||!Tt&&this.renderer.forExport)&&delete t.width,wt&&!Tt)p(this.element,t);else{o=function(e,t){return"-"+t.toLowerCase()};for(n in t)c+=n.replace(/([A-Z])/g,o)+":"+t[n]+";";d(s,"style",c)}i&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var r=this,i=r.element;return M&&"click"===e?(i.ontouchstart=function(e){r.touchEventFired=Date.now(),e.preventDefault(),t.call(i,e)},i.onclick=function(e){(-1===yt.indexOf("Android")||Date.now()-(r.touchEventFired||0)>1100)&&t.call(i,e)}):i["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,r=this.scaleX,i=this.scaleY,n=this.inverted,o=this.rotation,a=this.element;n&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],n?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(u(r)||u(i))&&e.push("scale("+h(r,1)+" "+h(i,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,r){var n,o,a,s,c={};return o=this.renderer,a=o.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!r||i(r))&&(this.alignTo=n=r||"renderer",l(a,this),a.push(this),r=null)):(e=this.alignOptions,t=this.alignByTranslate,n=this.alignTo),r=h(r,o[n],o),n=e.align,o=e.verticalAlign,a=(r.x||0)+(e.x||0),s=(r.y||0)+(e.y||0),("right"===n||"center"===n)&&(a+=(r.width-(e.width||0))/{right:1,center:2}[n]),c[t?"translateX":"x"]=lt(a),("bottom"===o||"middle"===o)&&(s+=(r.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),c[t?"translateY":"y"]=lt(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(){var t,r,i=this.bBox,n=this.renderer,o=this.rotation;t=this.element;var a=this.styles,s=o*bt;r=this.textStr;var c;if((""===r||jt.test(r))&&(c="num."+(""+r).length+(a?"|"+a.fontSize+"|"+a.fontFamily:"")),c&&(i=n.cache[c]),!i){if(t.namespaceURI===Ct||n.forExport){try{i=t.getBBox?e({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(l){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();n.isSVG&&(t=i.width,r=i.height,wt&&a&&"11px"===a.fontSize&&"16.9"===r.toPrecision(3)&&(i.height=r=14),o&&(i.width=pt(r*gt(s))+pt(t*mt(s)),i.height=pt(r*mt(s))+pt(t*gt(s)))),this.bBox=i,c&&(n.cache[c]=i)}return i},show:function(e){return e&&this.element.namespaceURI===Ct?(this.element.removeAttribute("visibility"),this):this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t,i,n=this.renderer,o=e||n,a=o.element||n.box,s=this.element,c=this.zIndex;if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),c&&(o.handleZ=!0,c=r(c)),o.handleZ)for(e=a.childNodes,t=0;e.length>t;t++)if(n=e[t],o=d(n,"zIndex"),n!==s&&(r(o)>c||!u(c)&&u(o))){a.insertBefore(s,n),i=!0;break}return i||a.appendChild(s),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,r=this,i=r.element||{},n=r.shadows,o=r.renderer.isSVG&&"SPAN"===i.nodeName&&r.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,er(r),r.clipPath&&(r.clipPath=r.clipPath.destroy()),r.stops){for(t=0;r.stops.length>t;t++)r.stops[t]=r.stops[t].destroy();r.stops=null}for(r.safeRemoveChild(i),n&&zt(n,function(e){r.safeRemoveChild(e)});o&&o.div&&0===o.div.childNodes.length;)i=o.parentGroup,r.safeRemoveChild(o.div),delete o.div,o=i;r.alignTo&&l(r.renderer.alignedObjects,r);for(e in r)delete r[e];return null},shadow:function(e,t,r){var i,n,o,a,s,c,l=[],u=this.element;if(e){for(a=h(e.width,3),s=(e.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+h(e.offsetX,1)+", "+h(e.offsetY,1)+")",i=1;a>=i;i++)n=u.cloneNode(0),o=2*a+1-2*i,d(n,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*i,"stroke-width":o,transform:"translate"+c,fill:Ot}),r&&(d(n,"height",ft(d(n,"height")-o,0)),n.cutHeight=o),t?t.element.appendChild(n):u.parentNode.insertBefore(n,u),l.push(n);this.shadows=l}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=h(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,r){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),r.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").replace("solid",1).split(","),t=e.length;t--;)e[t]=r(e[t])*this["stroke-width"];e=e.join(","),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,r){this[t]=e,r.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=at.createElementNS(Ct,"title"),this.element.appendChild(t)),t.textContent=e},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,r){"string"==typeof e?r.setAttribute(t,e):e&&this.colorGradient(e,t,r)},zIndexSetter:function(e,t,r){r.setAttribute(t,e),this[t]=e},_defaultSetter:function(e,t,r){r.setAttribute(t,e)}},_.prototype.yGetter=_.prototype.xGetter,_.prototype.translateXSetter=_.prototype.translateYSetter=_.prototype.rotationSetter=_.prototype.verticalAlignSetter=_.prototype.scaleXSetter=_.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},_.prototype["stroke-widthSetter"]=_.prototype.strokeSetter=function(e,t,r){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],_.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(r.removeAttribute("stroke"),this.hasStroke=!1)};var ar=function(){this.init.apply(this,arguments)};ar.prototype={Element:_,init:function(e,t,r,i,n){var o,a=location,i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i));o=i.element,e.appendChild(o),-1===e.innerHTML.indexOf("xmlns")&&d(o,"xmlns",Ct),this.isSVG=!0,this.box=o,this.boxWrapper=i,this.alignedObjects=[],this.url=(Rt||St)&&at.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highcharts 4.0.3")),this.defs=this.createElement("defs").add(),this.forExport=n,this.gradients={},this.cache={},this.setSize(t,r,!1);var s;Rt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){p(e,{left:0,top:0}),s=e.getBoundingClientRect(),p(e,{left:dt(s.left)-s.left+"px",top:dt(s.top)-s.top+"px"})},t(),Vt(st,"resize",t))},getStyle:function(t){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Yt(st,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t,i,n=e.element,o=this,a=o.forExport,s=""+h(e.textStr,""),c=-1!==s.indexOf("<"),l=n.childNodes,u=d(n,"x"),f=e.styles,m=e.textWidth,g=f&&f.lineHeight,v=f&&f.HcTextStroke,b=l.length,y=function(e){return g?r(g):o.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:f&&f.fontSize||o.style.fontSize||12,e).h};b--;)n.removeChild(l[b]);c||v||-1!==s.indexOf(" ")?(t=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,m&&!e.added&&this.box.appendChild(n),s=c?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),zt(s,function(r,s){var c,l=0,r=r.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");c=r.split("|||"),zt(c,function(r){if(""!==r||1===c.length){var h,g={},v=at.createElementNS(Ct,"tspan");if(t.test(r)&&(h=r.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(v,"style",h)),i.test(r)&&!a&&(d(v,"onclick",'location.href="'+r.match(i)[1]+'"'),p(v,{cursor:"pointer"})),r=(r.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==r){if(v.appendChild(at.createTextNode(r)),l?g.dx=0:s&&null!==u&&(g.x=u),d(v,g),n.appendChild(v),!l&&s&&(!Tt&&a&&p(v,{display:"block"}),d(v,"dy",y(v))),m)for(var b,x,r=r.replace(/([^\^])-/g,"$1- ").split(" "),g=c.length>1||r.length>1&&"nowrap"!==f.whiteSpace,w=f.HcHeight,k=[],S=y(v),R=1;g&&(r.length||k.length);)delete e.bBox,b=e.getBBox(),x=b.width,!Tt&&o.forExport&&(x=o.measureSpanWidth(v.firstChild.data,e.styles)),b=x>m,b&&1!==r.length?(v.removeChild(v.firstChild),k.unshift(r.pop())):(r=k,k=[],r.length&&(R++,w&&R*S>w?(r=["..."],e.attr("title",e.textStr)):(v=at.createElementNS(Ct,"tspan"),d(v,{dy:S,x:u}),h&&d(v,"style",h),n.appendChild(v))),x>m&&(m=x)),r.length&&v.appendChild(at.createTextNode(r.join(" ").replace(/- /g,"-")));l++}}})})):n.appendChild(at.createTextNode(s))},button:function(r,i,n,o,a,s,c,l,u){var d,f,h,p,m,g,v=this.label(r,i,n,u,null,null,null,null,"button"),b=0,r={x1:0,y1:0,x2:0,y2:1},a=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:r,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);return h=a.style,delete a.style,s=t(a,{stroke:"#68A",fill:{linearGradient:r,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,c=t(a,{stroke:"#68A",fill:{linearGradient:r,stops:[[0,"#9BD"],[1,"#CDF"]]}},c),m=c.style,delete c.style,l=t(a,{style:{color:"#CCC"}},l),g=l.style,delete l.style,Vt(v.element,wt?"mouseover":"mouseenter",function(){3!==b&&v.attr(s).css(p)}),Vt(v.element,wt?"mouseout":"mouseleave",function(){3!==b&&(d=[a,s,c][b],f=[h,p,m][b],v.attr(d).css(f))}),v.setState=function(e){(v.state=b=e)?2===e?v.attr(c).css(m):3===e&&v.attr(l).css(g):v.attr(a).css(h)},v.on("click",function(){3!==b&&o.call(v)}).attr(a).css(e({cursor:"default"},h))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=lt(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=lt(e[2])+t%2/2),e},path:function(t){var r={fill:Ot};return o(t)?r.d=t:n(t)&&e(r,t),this.createElement("path").attr(r)},circle:function(e,t,r){return e=n(e)?e:{x:e,y:t,r:r},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,r,i,o,a){return n(e)&&(t=e.y,r=e.r,i=e.innerR,o=e.start,a=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,r||0,r||0,{innerR:i||0,start:o||0,end:a||0}),e.r=r,e},rect:function(e,t,r,i,o,a){var o=n(e)?e.r:o,s=this.createElement("rect"),e=n(e)?e:e===O?{}:{x:e,y:t,width:ft(r,0),height:ft(i,0)};return a!==O&&(e.strokeWidth=a,e=s.crisp(e)),o&&(e.r=o),s.rSetter=function(e){d(this.element,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,r){var i=this.alignedObjects,n=i.length;for(this.width=e,this.height=t,this.boxWrapper[h(r,!0)?"animate":"attr"]({width:e,height:t});n--;)i[n].align()},g:function(e){var t=this.createElement("g");return u(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,r,i,n,o){var a={preserveAspectRatio:Ot};return arguments.length>1&&e(a,{x:r,y:i,width:n,height:o}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):a.element.setAttribute("hc-svg-href",t),a},symbol:function(t,r,i,n,o,a){var s,c,l,u=this.symbols[t],u=u&&u(lt(r),lt(i),n,o,a),d=/^url\((.*?)\)$/;return u?(s=this.path(u),e(s,{symbolName:t,x:r,y:i,width:n,height:o}),a&&e(s,a)):d.test(t)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(lt((n-t[0])/2),lt((o-t[1])/2)))},c=t.match(d)[1],t=$t[c],s=this.image(c).attr({x:r,y:i}),s.isImg=!0,t?l(s,t):(s.attr({width:0,height:0}),m("img",{onload:function(){l(s,$t[c]=[this.width,this.height])},src:c}))),s},symbols:{circle:function(e,t,r,i){var n=.166*r;return["M",e+r/2,t,"C",e+r+n,t,e+r+n,t+i,e+r/2,t+i,"C",e-n,t+i,e-n,t,e+r/2,t,"Z"]},square:function(e,t,r,i){return["M",e,t,"L",e+r,t,e+r,t+i,e,t+i,"Z"]},triangle:function(e,t,r,i){return["M",e+r/2,t,"L",e+r,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,r,i){return["M",e,t,"L",e+r,t,e+r/2,t+i,"Z"]},diamond:function(e,t,r,i){return["M",e+r/2,t,"L",e+r,t+i/2,e+r/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,r,i,n){var o=n.start,r=n.r||r||i,a=n.end-.001,i=n.innerR,s=n.open,c=mt(o),l=gt(o),u=mt(a),a=gt(a),n=vt>n.end-o?0:1;return["M",e+r*c,t+r*l,"A",r,r,0,n,1,e+r*u,t+r*a,s?"M":"L",e+i*u,t+i*a,"A",i,i,0,n,0,e+i*c,t+i*l,s?"":"Z"]},callout:function(e,t,r,i,n){var o=ht(n&&n.r||0,r,i),a=o+6,s=n&&n.anchorX,c=n&&n.anchorY,n=lt(n.strokeWidth||0)%2/2;return e+=n,t+=n,n=["M",e+o,t,"L",e+r-o,t,"C",e+r,t,e+r,t,e+r,t+o,"L",e+r,t+i-o,"C",e+r,t+i,e+r,t+i,e+r-o,t+i,"L",e+o,t+i,"C",e,t+i,e,t+i,e,t+i-o,"L",e,t+o,"C",e,t,e,t,e+o,t],s&&s>r&&c>t+a&&t+i-a>c?n.splice(13,3,"L",e+r,c-6,e+r+6,c,e+r,c+6,e+r,t+i-o):s&&0>s&&c>t+a&&t+i-a>c?n.splice(33,3,"L",e,c+6,e-6,c,e,c-6,e,t+o):c&&c>i&&s>e+a&&e+r-a>s?n.splice(23,3,"L",s+6,t+i,s,t+i+6,s-6,t+i,e+o,t+i):c&&0>c&&s>e+a&&e+r-a>s&&n.splice(3,3,"L",s-6,t,s,t-6,s+6,t,r-o,t),n}},clipRect:function(e,t,r,i){var n="highcharts-"+_t++,o=this.createElement("clipPath").attr({id:n}).add(this.defs),e=this.rect(e,t,r,i,0).add(o);return e.id=n,e.clipPath=o,e},text:function(e,t,r,i){var n=Et||!Tt&&this.forExport,o={};return i&&!this.forExport?this.html(e,t,r):(o.x=Math.round(t||0),r&&(o.y=Math.round(r)),(e||0===e)&&(o.text=e),e=this.createElement("text").attr(o),n&&e.css({position:"absolute"}),i||(e.xSetter=function(e,t,r){var i,n,o=r.getElementsByTagName("tspan"),a=r.getAttribute(t);for(n=0;o.length>n;n++)i=o[n],i.getAttribute(t)===a&&i.setAttribute(t,e);r.setAttribute(t,e)}),e)},fontMetrics:function(e,t){e=e||this.style.fontSize,t&&st.getComputedStyle&&(t=t.element||t,e=st.getComputedStyle(t,"").fontSize);var e=/px/.test(e)?r(e):/em/.test(e)?12*parseFloat(e):12,i=24>e?e+4:lt(1.2*e),n=lt(.8*i);return{h:i,b:n,f:e}},label:function(r,i,n,o,a,s,c,l,d){function f(){var t,r;t=P.element.style,g=(void 0===v||void 0===b||R.styles.textAlign)&&P.textStr&&P.getBBox(),R.width=(v||g.width||0)+2*T+q,R.height=(b||g.height||0)+2*T,w=T+S.fontMetrics(t&&t.fontSize,P).b,k&&(m||(t=lt(-C*T),r=l?-w:0,R.box=m=o?S.symbol(o,t,r,R.width,R.height,$):S.rect(t,r,R.width,R.height,0,$[Mt]),m.attr("fill",Ot).add(R)),m.isImg||m.attr(e({width:lt(R.width),height:lt(R.height)},$)),$=null)}function h(){var e,t=R.styles,t=t&&t.textAlign,r=q+T*(1-C);e=l?0:w,u(v)&&g&&("center"===t||"right"===t)&&(r+={center:.5,right:1}[t]*(v-g.width)),(r!==P.x||e!==P.y)&&(P.attr("x",r),e!==O&&P.attr("y",e)),P.x=r,P.y=e}function p(e,t){m?m.attr(e,t):$[e]=t}var m,g,v,b,y,x,w,k,S=this,R=S.g(d),P=S.text("",0,0,c).attr({zIndex:1}),C=0,T=3,q=0,E=0,$={};R.onAdd=function(){P.add(R),R.attr({text:r||"",x:i,y:n}),m&&u(a)&&R.attr({anchorX:a,anchorY:s})},R.widthSetter=function(e){v=e},R.heightSetter=function(e){b=e},R.paddingSetter=function(e){u(e)&&e!==T&&(T=e,h())
},R.paddingLeftSetter=function(e){u(e)&&e!==q&&(q=e,h())},R.alignSetter=function(e){C={left:0,center:.5,right:1}[e]},R.textSetter=function(e){e!==O&&P.textSetter(e),f(),h()},R["stroke-widthSetter"]=function(e,t){e&&(k=!0),E=e%2/2,p(t,e)},R.strokeSetter=R.fillSetter=R.rSetter=function(e,t){"fill"===t&&e&&(k=!0),p(t,e)},R.anchorXSetter=function(e,t){a=e,p(t,e+E-y)},R.anchorYSetter=function(e,t){s=e,p(t,e-x)},R.xSetter=function(e){R.x=e,C&&(e-=C*((v||g.width)+T)),y=lt(e),R.attr("translateX",y)},R.ySetter=function(e){x=R.y=lt(e),R.attr("translateY",x)};var A=R.css;return e(R,{css:function(e){if(e){var r={},e=t(e);zt(R.textProps,function(t){e[t]!==O&&(r[t]=e[t],delete e[t])}),P.css(r)}return A.call(R,e)},getBBox:function(){return{width:g.width+2*T,height:g.height+2*T,x:g.x-T,y:g.y-T}},shadow:function(e){return m&&m.shadow(e),R},destroy:function(){Yt(R.element,"mouseenter"),Yt(R.element,"mouseleave"),P&&(P=P.destroy()),m&&(m=m.destroy()),_.prototype.destroy.call(R),R=S=f=h=p=null}})}},j=ar,e(_.prototype,{htmlCss:function(t){var r=this.element;return(r=t&&"SPAN"===r.tagName&&t.width)&&(delete t.width,this.textWidth=r,this.updateTransform()),this.styles=e(this.styles,t),p(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||("text"===e.nodeName&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,n=this.translateY||0,o=this.x||0,a=this.y||0,s=this.textAlign||"left",c={left:0,center:.5,right:1}[s],l=this.shadows;if(p(t,{marginLeft:i,marginTop:n}),l&&zt(l,function(e){p(e,{marginLeft:i+1,marginTop:n+1})}),this.inverted&&zt(t.childNodes,function(r){e.invertChild(r,t)}),"SPAN"===t.tagName){var d,f=this.rotation,m=r(this.textWidth),g=[f,s,t.innerHTML,this.textWidth].join(",");g!==this.cTT&&(d=e.fontMetrics(t.style.fontSize).b,u(f)&&this.setSpanRotation(f,c,d),l=h(this.elemWidth,t.offsetWidth),l>m&&/[ \-]/.test(t.textContent||t.innerText)&&(p(t,{width:m+"px",display:"block",whiteSpace:"normal"}),l=m),this.getSpanCorrection(l,d,c,f,s)),p(t,{left:o+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),St&&(d=t.offsetHeight),this.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,r){var i={},n=wt?"-ms-transform":St?"-webkit-transform":Rt?"MozTransform":xt?"-o-transform":"";i[n]=i.transform="rotate("+e+"deg)",i[n+(Rt?"Origin":"-origin")]=i.transformOrigin=100*t+"% "+r+"px",p(this.element,i)},getSpanCorrection:function(e,t,r){this.xCorr=-e*r,this.yCorr=-t}}),e(ar.prototype,{html:function(t,r,i){var n=this.createElement("span"),o=n.element,a=n.renderer;return n.textSetter=function(e){e!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=e},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),n[t]=e,n.htmlUpdateTransform()},n.attr({text:t,x:lt(r),y:lt(i)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),n.css=n.htmlCss,a.isSVG&&(n.add=function(t){var r,i=a.box.parentNode,s=[];if(this.parentGroup=t){if(r=t.div,!r){for(;t;)s.push(t),t=t.parentGroup;zt(s.reverse(),function(t){var n;r=t.div=t.div||m(Lt,{className:d(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},r||i),n=r.style,e(t,{translateXSetter:function(e,r){n.left=e+"px",t[r]=e,t.doTransform=!0},translateYSetter:function(e,r){n.top=e+"px",t[r]=e,t.doTransform=!0},visibilitySetter:function(e,t){n[t]=e}})})}}else r=i;return r.appendChild(o),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var sr;if(!Tt&&!Et){sr={init:function(e,t){var r=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"],n=t===Lt;("shape"===t||n)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",n?"hidden":"visible"),r.push(' style="',i.join(""),'"/>'),t&&(r=n||"span"===t||"img"===t?r.join(""):e.prepVML(r),this.element=m(r)),this.renderer=e},add:function(e){var t=this.renderer,r=this.element,i=t.box,i=e?e.element||e:i;return e&&e.inverted&&t.invertChild(r,i),i.appendChild(r),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:_.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=mt(e*bt),r=gt(e*bt);p(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-r,", M21=",r,", M22=",t,", sizingMethod='auto expand')"].join(""):Ot})},getSpanCorrection:function(e,t,r,i,n){var o,a=i?mt(i*bt):1,s=i?gt(i*bt):0,c=h(this.elemHeight,this.element.offsetHeight);this.xCorr=0>a&&-e,this.yCorr=0>s&&-c,o=0>a*s,this.xCorr+=s*t*(o?1-r:r),this.yCorr-=a*t*(i?o?r:1-r:1),n&&"left"!==n&&(this.xCorr-=e*r*(0>a?-1:1),i&&(this.yCorr-=c*r*(0>s?-1:1)),p(this.element,{textAlign:n}))},pathToVML:function(e){for(var t=e.length,r=[];t--;)a(e[t])?r[t]=lt(10*e[t])-5:"Z"===e[t]?r[t]="x":(r[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(r[t+5]===r[t+7]&&(r[t+7]+=e[t+7]>e[t+5]?1:-1),r[t+6]===r[t+8]&&(r[t+8]+=e[t+8]>e[t+6]?1:-1)));return r.join(" ")||"x"},clip:function(e){var t,r=this;return e?(t=e.members,l(t,r),t.push(r),r.destroyClip=function(){l(t,r)},e=e.getCSS(r)):(r.destroyClip&&r.destroyClip(),e={clip:kt?"inherit":"rect(auto)"}),r.css(e)},css:_.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&T(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),_.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=st.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var i,e=e.split(/[ ,]/);return i=e.length,(9===i||11===i)&&(e[i-4]=e[i-2]=r(e[i-2])-10*t),e.join(" ")},shadow:function(e,t,i){var n,o,a,s,c,l,u,d=[],f=this.element,p=this.renderer,g=f.style,v=f.path;if(v&&"string"!=typeof v.value&&(v="x"),c=v,e){for(l=h(e.width,3),u=(e.opacity||.15)/l,n=1;3>=n;n++)s=2*l+1-2*n,i&&(c=this.cutOffPath(v.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',c,'" coordsize="10 10" style="',f.style.cssText,'" />'],o=m(p.prepVML(a),null,{left:r(g.left)+h(e.offsetX,1),top:r(g.top)+h(e.offsetY,1)}),i&&(o.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',u*n,'"/>'],m(p.prepVML(a),null,null,o),t?t.element.appendChild(o):f.parentNode.insertBefore(o,f),d.push(o);this.shadows=d}return this},updateShadows:At,setAttr:function(e,t){kt?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,r){(r.getElementsByTagName("stroke")[0]||m(this.renderer.prepVML(["<stroke/>"]),null,null,r))[t]=e||"solid",this[t]=e},dSetter:function(e,t,r){var i=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),r.path=e=this.pathToVML(e),i)for(r=i.length;r--;)i[r].path=i[r].cutOff?this.cutOffPath(e,i[r].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,r){var i=r.nodeName;"SPAN"===i?r.style.color=e:"IMG"!==i&&(r.filled=e!==Ot,this.setAttr("fillcolor",this.renderer.color(e,r,t,this)))},opacitySetter:At,rotationSetter:function(e,t,r){r=r.style,this[t]=r[t]=e,r.left=-lt(gt(e*bt)+1)+"px",r.top=lt(mt(e*bt))+"px"},strokeSetter:function(e,t,r){this.setAttr("strokecolor",this.renderer.color(e,r,t))},"stroke-widthSetter":function(e,t,r){r.stroked=!!e,this[t]=e,a(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,r){"inherit"===e&&(e="visible"),this.shadows&&zt(this.shadows,function(r){r.style[t]=e}),"DIV"===r.nodeName&&(e="hidden"===e?"-999em":0,kt||(r.style[t]=e?"visible":"hidden"),t="top"),r.style[t]=e},xSetter:function(e,t,r){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):r.style[t]=e},zIndexSetter:function(e,t,r){r.style[t]=e}},ot.VMLElement=sr=g(_,sr),sr.prototype.ySetter=sr.prototype.widthSetter=sr.prototype.heightSetter=sr.prototype.xSetter;var cr={Element:sr,isIE8:yt.indexOf("MSIE 8.0")>-1,init:function(t,r,i,n){var o;if(this.alignedObjects=[],n=this.createElement(Lt).css(e(this.getStyle(n),{position:"relative"})),o=n.element,t.appendChild(n.element),this.isVML=!0,this.box=o,this.boxWrapper=n,this.cache={},this.setSize(r,i,!1),!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(a){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,r,i,o){var a=this.createElement(),s=n(t);return e(a,{members:[],left:(s?t.x:t)+1,top:(s?t.y:r)+1,width:(s?t.width:i)-1,height:(s?t.height:o)-1,getCSS:function(t){var r=t.element,i=r.nodeName,t=t.inverted,n=this.top-("shape"===i?r.offsetTop:0),o=this.left,r=o+this.width,a=n+this.height,n={clip:"rect("+lt(t?o:n)+"px,"+lt(t?a:r)+"px,"+lt(t?r:a)+"px,"+lt(t?n:o)+"px)"};return!t&&kt&&"DIV"===i&&e(n,{width:r+"px",height:a+"px"}),n},updateClipping:function(){zt(a.members,function(e){e.element&&e.css(a.getCSS(e))})}})},color:function(e,t,r,i){var n,o,a,s=this,c=/^rgba/,l=Ot;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var u,d,f,h,p,g,v,b,y=e.linearGradient||e.radialGradient,x="",e=e.stops,w=[],k=function(){o=['<fill colors="'+w.join(",")+'" opacity="',p,'" o:opacity2="',h,'" type="',a,'" ',x,'focus="100%" method="any" />'],m(s.prepVML(o),null,null,t)};if(f=e[0],b=e[e.length-1],f[0]>0&&e.unshift([0,f[1]]),1>b[0]&&e.push([1,b[1]]),zt(e,function(e,t){c.test(e[1])?(n=or(e[1]),u=n.get("rgb"),d=n.get("a")):(u=e[1],d=1),w.push(100*e[0]+"% "+u),t?(p=d,g=u):(h=d,v=u)}),"fill"===r)if("gradient"===a)r=y.x1||y[0]||0,e=y.y1||y[1]||0,f=y.x2||y[2]||0,y=y.y2||y[3]||0,x='angle="'+(90-180*ct.atan((y-e)/(f-r))/vt)+'"',k();else{var S,l=y.r,R=2*l,P=2*l,C=y.cx,T=y.cy,q=t.radialReference,l=function(){q&&(S=i.getBBox(),C+=(q[0]-S.x)/S.width-.5,T+=(q[1]-S.y)/S.height-.5,R*=q[2]/S.width,P*=q[2]/S.height),x='src="'+I.global.VMLRadialGradientURL+'" size="'+R+","+P+'" origin="0.5,0.5" position="'+C+","+T+'" color2="'+v+'" ',k()};i.added?l():i.onAdd=l,l=g}else l=u}else c.test(e)&&"IMG"!==t.tagName?(n=or(e),o=["<",r,' opacity="',n.get("a"),'"/>'],m(this.prepVML(o),null,null,t),l=n.get("rgb")):(l=t.getElementsByTagName(r),l.length&&(l[0].opacity=1,l[0].type="solid"),l=e);return l},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:ar.prototype.html,path:function(t){var r={coordsize:"10 10"};return o(t)?r.d=t:n(t)&&e(r,t),this.createElement("shape").attr(r)},circle:function(e,t,r){var i=this.symbol("circle");return n(e)&&(r=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=r,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Lt).attr(t)},image:function(e,t,r,i,n){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:r,width:i,height:n}),o},createElement:function(e){return"rect"===e?this.symbol(e):ar.prototype.createElement.call(this,e)},invertChild:function(e,t){var i=this,n=t.style,o="IMG"===e.tagName&&e.style;p(e,{flip:"x",left:r(n.width)-(o?r(o.top):1),top:r(n.height)-(o?r(o.left):1),rotation:-90}),zt(e.childNodes,function(t){i.invertChild(t,e)})},symbols:{arc:function(e,t,r,i,n){var o=n.start,a=n.end,s=n.r||r||i,r=n.innerR,i=mt(o),c=gt(o),l=mt(a),u=gt(a);return 0===a-o?["x"]:(o=["wa",e-s,t-s,e+s,t+s,e+s*i,t+s*c,e+s*l,t+s*u],n.open&&!r&&o.push("e","M",e,t),o.push("at",e-r,t-r,e+r,t+r,e+r*l,t+r*u,e+r*i,t+r*c,"x","e"),o.isArc=!0,o)},circle:function(e,t,r,i,n){return n&&(r=i=2*n.r),n&&n.isCircle&&(e-=r/2,t-=i/2),["wa",e,t,e+r,t+i,e+r,t+i/2,e+r,t+i/2,"e"]},rect:function(e,t,r,i,n){return ar.prototype.symbols[u(n)&&n.r?"callout":"square"].call(0,e,t,r,i,n)}}};ot.VMLRenderer=sr=function(){this.init.apply(this,arguments)},sr.prototype=t(ar.prototype,cr),j=sr}ar.prototype.measureSpanWidth=function(e,t){var r,i=at.createElement("span");return r=at.createTextNode(e),i.appendChild(r),p(i,t),this.box.appendChild(i),r=i.offsetWidth,T(i),r};var lr;Et&&(ot.CanVGRenderer=sr=function(){Ct="http://www.w3.org/1999/xhtml"},sr.prototype.symbols={},lr=function(){function e(){var e,r=t.length;for(e=0;r>e;e++)t[e]();t=[]}var t=[];return{push:function(r,i){0===t.length&&Wt(i,e),t.push(r)}}}(),j=sr),A.prototype={addLabel:function(){var t,r=this.axis,i=r.options,n=r.chart,o=r.horiz,s=r.categories,l=r.names,d=this.pos,f=i.labels,p=f.rotation,m=r.tickPositions,o=o&&s&&!f.step&&!f.staggerLines&&!f.rotation&&n.plotWidth/m.length||!o&&(n.margin[3]||.33*n.chartWidth),g=d===m[0],v=d===m[m.length-1],l=s?h(s[d],l[d],d):d,s=this.label,b=m.info;r.isDatetimeAxis&&b&&(t=i.dateTimeLabelFormats[b.higherRanks[d]||b.unitName]),this.isFirst=g,this.isLast=v,i=r.labelFormatter.call({axis:r,chart:n,isFirst:g,isLast:v,dateTimeLabelFormat:t,value:r.isLog?q(c(l)):l}),d=o&&{width:ft(1,lt(o-2*(f.padding||10)))+"px"},d=e(d,f.style),u(s)?s&&s.attr({text:i}).css(d):(t={align:r.labelAlign},a(p)&&(t.rotation=p),o&&f.ellipsis&&(d.HcHeight=r.len/m.length),this.label=s=u(i)&&f.enabled?n.renderer.text(i,0,0,f.useHTML).attr(t).css(d).add(r.labelGroup):null,r.tickBaseline=n.renderer.fontMetrics(f.style.fontSize,s).b,p&&2===r.side&&(r.tickBaseline*=mt(p*bt))),this.yOffset=s?h(f.y,r.tickBaseline+(2===r.side?8:-(s.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,r=t.horiz,i=t.options.labels,e=r?e.width:e.height,t=r?i.x-e*{left:0,center:.5,right:1}[t.labelAlign]:0;return[t,r?e+t:e]},handleOverflow:function(e,t){var r,i,n,o=!0,a=this.axis,s=this.isFirst,c=this.isLast,l=a.horiz?t.x:t.y,u=a.reversed,d=a.tickPositions,f=this.getLabelSides(),h=f[0],f=f[1],p=this.label.line||0;if(r=a.labelEdge,i=a.justifyLabels&&(s||c),r[p]===O||l+h>r[p]?r[p]=l+f:i||(o=!1),i){r=(i=a.justifyToPlot)?a.pos:0,i=i?r+a.len:a.chart.chartWidth;do e+=s?1:-1,n=a.ticks[d[e]];while(d[e]&&(!n||!n.label||n.label.line!==p));a=n&&n.label.xy&&n.label.xy.x+n.getLabelSides()[s?0:1],s&&!u||c&&u?r>l+h&&(l=r-h,n&&l+f>a&&(o=!1)):l+f>i&&(l=i-f,n&&a>l+h&&(o=!1)),t.x=l}return o},getPosition:function(e,t,r,i){var n=this.axis,o=n.chart,a=i&&o.oldChartHeight||o.chartHeight;return{x:e?n.translate(t+r,null,null,i)+n.transB:n.left+n.offset+(n.opposite?(i&&o.oldChartWidth||o.chartWidth)-n.right-n.left:0),y:e?a-n.bottom+n.offset-(n.opposite?n.height:0):a-n.translate(t+r,null,null,i)-n.transB}},getLabelPosition:function(e,t,r,i,n,o,a,s){var c=this.axis,l=c.transA,u=c.reversed,d=c.staggerLines,e=e+n.x-(o&&i?o*l*(u?-1:1):0),t=t+this.yOffset-(o&&!i?o*l*(u?1:-1):0);return d&&(r.line=a/(s||1)%d,t+=r.line*(c.labelOffset/d)),{x:e,y:t}},getMarkPath:function(e,t,r,i,n,o){return o.crispLine(["M",e,t,"L",e+(n?0:-r),t+(n?r:0)],i)},render:function(e,t,r){var i=this.axis,n=i.options,o=i.chart.renderer,a=i.horiz,s=this.type,c=this.label,l=this.pos,u=n.labels,d=this.gridLine,f=s?s+"Grid":"grid",p=s?s+"Tick":"tick",m=n[f+"LineWidth"],g=n[f+"LineColor"],v=n[f+"LineDashStyle"],b=n[p+"Length"],f=n[p+"Width"]||0,y=n[p+"Color"],x=n[p+"Position"],p=this.mark,w=u.step,k=!0,S=i.tickmarkOffset,R=this.getPosition(a,l,S,t),P=R.x,R=R.y,C=a&&P===i.pos+i.len||!a&&R===i.pos?-1:1,r=h(r,1);this.isActive=!0,m&&(l=i.getPlotLinePath(l+S,m*C,t,!0),d===O&&(d={stroke:g,"stroke-width":m},v&&(d.dashstyle=v),s||(d.zIndex=1),t&&(d.opacity=0),this.gridLine=d=m?o.path(l).attr(d).add(i.gridGroup):null),!t&&d&&l&&d[this.isNew?"attr":"animate"]({d:l,opacity:r})),f&&b&&("inside"===x&&(b=-b),i.opposite&&(b=-b),s=this.getMarkPath(P,R,b,f*C,a,o),p?p.animate({d:s,opacity:r}):this.mark=o.path(s).attr({stroke:y,"stroke-width":f,opacity:r}).add(i.axisGroup)),c&&!isNaN(P)&&(c.xy=R=this.getLabelPosition(P,R,c,a,u,S,e,w),this.isFirst&&!this.isLast&&!h(n.showFirstLabel,1)||this.isLast&&!this.isFirst&&!h(n.showLastLabel,1)?k=!1:!i.isRadial&&!u.step&&!u.rotation&&!t&&0!==r&&(k=this.handleOverflow(e,R)),w&&e%w&&(k=!1),k&&!isNaN(R.y)?(R.opacity=r,c[this.isNew?"attr":"animate"](R),this.isNew=!1):c.attr("y",-9999))},destroy:function(){C(this,this.axis)}},ot.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},ot.PlotLineOrBand.prototype={render:function(){var e,r=this,i=r.axis,n=i.horiz,o=(i.pointRange||0)/2,a=r.options,c=a.label,l=r.label,d=a.width,f=a.to,h=a.from,p=u(h)&&u(f),m=a.value,g=a.dashStyle,v=r.svgElem,b=[],y=a.color,x=a.zIndex,w=a.events,k={},S=i.chart.renderer;if(i.isLog&&(h=s(h),f=s(f),m=s(m)),d)b=i.getPlotLinePath(m,d),k={stroke:y,"stroke-width":d},g&&(k.dashstyle=g);else{if(!p)return;h=ft(h,i.min-o),f=ht(f,i.max+o),b=i.getPlotBandPath(h,f,a),y&&(k.fill=y),a.borderWidth&&(k.stroke=a.borderColor,k["stroke-width"]=a.borderWidth)}if(u(x)&&(k.zIndex=x),v)b?v.animate({d:b},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},l&&(r.label=l=l.destroy()));else if(b&&b.length&&(r.svgElem=v=S.path(b).attr(k).add(),w))for(e in o=function(e){v.on(e,function(t){w[e].apply(r,[t])})},w)o(e);return c&&u(c.text)&&b&&b.length&&i.width>0&&i.height>0?(c=t({align:n&&p&&"center",x:n?!p&&4:10,verticalAlign:!n&&p&&"middle",y:n?p?16:10:p?6:-4,rotation:n&&!p&&90},c),l||(k={align:c.textAlign||c.align,rotation:c.rotation},u(x)&&(k.zIndex=x),r.label=l=S.text(c.text,0,0,c.useHTML).attr(k).css(c.style).add()),i=[b[1],b[4],p?b[6]:b[1]],p=[b[2],b[5],p?b[7]:b[2]],b=R(i),n=R(p),l.align(c,!1,{x:b,y:n,width:P(i)-b,height:P(p)-n}),l.show()):l&&l.hide(),r},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}},N.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ut,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Ut.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(e,t){var r=t.isX;this.horiz=e.inverted?!r:r,this.coll=(this.isXAxis=r)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var i=this.options,n=i.type;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=i.reversed,this.zoomEnabled=i.zoomEnabled!==!1,this.categories=i.categories||"category"===n,this.names=[],this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=u(i.linkedTo),this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=h(i.crosshair,f(e.options.tooltip.crosshairs)[r?0:1],!1);var o,i=this.options.events;-1===Ft(this,e.axes)&&(r&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&r&&this.reversed===O&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in i)Vt(this,o,i[o]);this.isLog&&(this.val2lin=s,this.lin2val=c)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(I[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,r=this.value,i=t.categories,n=this.dateTimeLabelFormat,o=I.lang.numericSymbols,a=o&&o.length,s=t.options.labels.format,t=t.isLog?r:t.tickInterval;if(s)e=x(s,this);else if(i)e=r;else if(n)e=U(n,r);else if(a&&t>=1e3)for(;a--&&e===O;)i=Math.pow(1e3,a+1),t>=i&&null!==o[a]&&(e=v(r/i,-1)+o[a]);return e===O&&(e=pt(r)>=1e4?v(r,0):v(r,-1,O,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,e.buildStacks&&e.buildStacks(),zt(e.series,function(r){if(r.visible||!t.options.chart.ignoreHiddenSeries){var i;i=r.options.threshold;var n;e.hasVisibleSeries=!0,e.isLog&&0>=i&&(i=null),e.isXAxis?(i=r.xData,i.length&&(e.dataMin=ht(h(e.dataMin,i[0]),R(i)),e.dataMax=ft(h(e.dataMax,i[0]),P(i)))):(r.getExtremes(),n=r.dataMax,r=r.dataMin,u(r)&&u(n)&&(e.dataMin=ht(h(e.dataMin,r),r),e.dataMax=ft(h(e.dataMax,n),n)),u(i)&&(e.dataMin>=i?(e.dataMin=i,e.ignoreMinPadding=!0):i>e.dataMax&&(e.dataMax=i,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,r,i,n,o){var s=1,c=0,l=i?this.oldTransA:this.transA,i=i?this.oldMin:this.min,u=this.minPixelPadding,n=(this.options.ordinal||this.isLog&&n)&&this.lin2val;return l||(l=this.transA),r&&(s*=-1,c=this.len),this.reversed&&(s*=-1,c-=s*(this.sector||this.len)),t?(e=e*s+c,e-=u,e=e/l+i,n&&(e=this.lin2val(e))):(n&&(e=this.val2lin(e)),"between"===o&&(o=.5),e=s*(e-i)*l+c+s*u+(a(o)?l*o*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,r,i,n){var o,a,s,c=this.chart,l=this.left,u=this.top,d=r&&c.oldChartHeight||c.chartHeight,f=r&&c.oldChartWidth||c.chartWidth;return o=this.transB,n=h(n,this.translate(e,null,null,r)),e=r=lt(n+o),o=a=lt(d-n-o),isNaN(n)?s=!0:this.horiz?(o=u,a=d-this.bottom,(l>e||e>l+this.width)&&(s=!0)):(e=l,r=f-this.right,(u>o||o>u+this.height)&&(s=!0)),s&&!i?null:c.renderer.crispLine(["M",e,o,"L",r,a],t||1)},getLinearTickPositions:function(e,t,r){var i,n=q(ut(t/e)*e),o=q(dt(r/e)*e),s=[];if(t===r&&a(t))return[t];for(t=n;o>=t&&(s.push(t),t=q(t+e),t!==i);)i=t;return s},getMinorTickPositions:function(){var e,t=this.options,r=this.tickPositions,i=this.minorTickInterval,n=[];if(this.isLog)for(e=r.length,t=1;e>t;t++)n=n.concat(this.getLogTickPositions(i,r[t-1],r[t],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)n=n.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),this.min,this.max,t.startOfWeek)),n[0]<this.min&&n.shift();else for(r=this.min+(r[0]-this.min)%i;this.max>=r;r+=i)n.push(r);return n},adjustForMinRange:function(){var e,t,r,i,n,o,a=this.options,s=this.min,c=this.max,l=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===O&&!this.isLog&&(u(a.min)||u(a.max)?this.minRange=null:(zt(this.series,function(e){for(n=e.xData,r=o=e.xIncrement?1:n.length-1;r>0;r--)i=n[r]-n[r-1],(t===O||t>i)&&(t=i)}),this.minRange=ht(5*t,this.dataMax-this.dataMin))),this.minRange>c-s){var d=this.minRange;e=(d-c+s)/2,e=[s-e,h(a.min,s-e)],l&&(e[2]=this.dataMin),s=P(e),c=[s+d,h(a.max,s+d)],l&&(c[2]=this.dataMax),c=R(c),d>c-s&&(e[0]=c-d,e[1]=h(a.min,c-d),s=P(e))}this.min=s,this.max=c},setAxisTranslation:function(e){var t,r=this,n=r.max-r.min,o=r.axisPointRange||0,a=0,s=0,c=r.linkedParent,l=!!r.categories,d=r.transA;(r.isXAxis||l||o)&&(c?(a=c.minPointOffset,s=c.pointRangePadding):zt(r.series,function(e){var c=l?1:r.isXAxis?e.pointRange:r.axisPointRange||0,d=e.options.pointPlacement,f=e.closestPointRange;c>n&&(c=0),o=ft(o,c),a=ft(a,i(d)?0:c/2),s=ft(s,"on"===d?0:c),!e.noSharedTooltip&&u(f)&&(t=u(t)?ht(t,f):f)}),c=r.ordinalSlope&&t?r.ordinalSlope/t:1,r.minPointOffset=a*=c,r.pointRangePadding=s*=c,r.pointRange=ht(o,n),r.closestPointRange=t),e&&(r.oldTransA=d),r.translationSlope=r.transA=d=r.len/(n+s||1),r.transB=r.horiz?r.left:r.bottom,r.minPixelPadding=d*a},setTickPositions:function(e){var t,r=this,i=r.chart,n=r.options,o=n.startOnTick,c=n.endOnTick,l=r.isLog,d=r.isDatetimeAxis,f=r.isXAxis,p=r.isLinked,m=r.options.tickPositioner,g=n.maxPadding,v=n.minPadding,b=n.tickInterval,y=n.minTickInterval,x=n.tickPixelInterval,S=r.categories;p?(r.linkedParent=i[r.coll][n.linkedTo],i=r.linkedParent.getExtremes(),r.min=h(i.min,i.dataMin),r.max=h(i.max,i.dataMax),n.type!==r.linkedParent.options.type&&z(11,1)):(r.min=h(r.userMin,n.min,r.dataMin),r.max=h(r.userMax,n.max,r.dataMax)),l&&(!e&&0>=ht(r.min,h(r.dataMin,r.min))&&z(10,1),r.min=q(s(r.min)),r.max=q(s(r.max))),r.range&&u(r.max)&&(r.userMin=r.min=ft(r.min,r.max-r.range),r.userMax=r.max,r.range=null),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),S||r.axisPointRange||r.usePercentage||p||!u(r.min)||!u(r.max)||!(i=r.max-r.min)||(u(n.min)||u(r.userMin)||!v||!(0>r.dataMin)&&r.ignoreMinPadding||(r.min-=i*v),u(n.max)||u(r.userMax)||!g||!(r.dataMax>0)&&r.ignoreMaxPadding||(r.max+=i*g)),a(n.floor)&&(r.min=ft(r.min,n.floor)),a(n.ceiling)&&(r.max=ht(r.max,n.ceiling)),r.min===r.max||void 0===r.min||void 0===r.max?r.tickInterval=1:p&&!b&&x===r.linkedParent.options.tickPixelInterval?r.tickInterval=r.linkedParent.tickInterval:(r.tickInterval=h(b,S?1:(r.max-r.min)*x/ft(r.len,x)),!u(b)&&x>r.len&&!this.isRadial&&!this.isLog&&!S&&o&&c&&(t=!0,r.tickInterval/=4)),f&&!e&&zt(r.series,function(e){e.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&(r.tickInterval=ft(r.pointRange,r.tickInterval)),!b&&y>r.tickInterval&&(r.tickInterval=y),d||l||b||(r.tickInterval=k(r.tickInterval,null,w(r.tickInterval),n)),r.minorTickInterval="auto"===n.minorTickInterval&&r.tickInterval?r.tickInterval/5:n.minorTickInterval,r.tickPositions=e=n.tickPositions?[].concat(n.tickPositions):m&&m.apply(r,[r.min,r.max]),e||(!r.ordinalPositions&&(r.max-r.min)/r.tickInterval>ft(2*r.len,200)&&z(19,!0),e=d?r.getTimeTicks(r.normalizeTimeTickInterval(r.tickInterval,n.units),r.min,r.max,n.startOfWeek,r.ordinalPositions,r.closestPointRange,!0):l?r.getLogTickPositions(r.tickInterval,r.min,r.max):r.getLinearTickPositions(r.tickInterval,r.min,r.max),t&&e.splice(1,e.length-2),r.tickPositions=e),p||(n=e[0],l=e[e.length-1],d=r.minPointOffset||0,!o&&!c&&!S&&2===e.length&&e.splice(1,0,(l+n)/2),o?r.min=n:r.min-d>n&&e.shift(),c?r.max=l:l>r.max+d&&e.pop(),1===e.length&&(o=pt(r.max)>1e13?1:.001,r.min-=o,r.max+=o))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},r=this.tickPositions,i=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&r&&r.length>(t[i]||0)&&this.options.alignTicks!==!1&&(t[i]=r.length),e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,r=this.chart.maxTicks;if(r&&r[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==O){var i=this.tickAmount,n=t.length;if(this.tickAmount=e=r[e],e>n){for(;e>t.length;)t.push(q(t[t.length-1]+this.tickInterval));this.transA*=(n-1)/(e-1),this.max=t[t.length-1]}u(i)&&e!==i&&(this.isDirty=!0)}},setScale:function(){var e,t,r,i,n=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,zt(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(r=!0)}),i||r||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in n)for(t in n[e])n[e][t].total=null,n[e][t].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(n=this.stacks=this.oldStacks);for(e in n)for(t in n[e])n[e][t].cum=n[e][t].total}this.setMaxTicks()},setExtremes:function(t,r,i,n,o){var a=this,s=a.chart,i=h(i,!0),o=e(o,{min:t,max:r});Kt(a,"setExtremes",o,function(){a.userMin=t,a.userMax=r,a.eventArgs=o,a.isDirtyExtremes=!0,i&&s.redraw(n)})},zoom:function(e,t){var r=this.dataMin,i=this.dataMax,n=this.options;return this.allowZoomOutside||(u(r)&&ht(r,h(n.min,r))>=e&&(e=O),u(i)&&t>=ft(i,h(n.max,i))&&(t=O)),this.displayBtn=e!==O||t!==O,this.setExtremes(e,t,!1,O,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,r=t.offsetLeft||0,i=this.horiz,n=h(t.width,e.plotWidth-r+(t.offsetRight||0)),o=h(t.height,e.plotHeight),a=h(t.top,e.plotTop),t=h(t.left,e.plotLeft+r),r=/%$/;r.test(o)&&(o=parseInt(o,10)/100*e.plotHeight),r.test(a)&&(a=parseInt(a,10)/100*e.plotHeight+e.plotTop),this.left=t,this.top=a,this.width=n,this.height=o,this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-n-t,this.len=ft(i?n:o,0),this.pos=i?t:a},getExtremes:function(){var e=this.isLog;return{min:e?q(c(this.min)):this.min,max:e?q(c(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,r=t?c(this.min):this.min,t=t?c(this.max):this.max;return r>e||null===e?e=r:e>t&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(h(e,0)-90*this.side+720)%360,e>15&&165>e?"right":e>195&&345>e?"left":"center"},getOffset:function(){var e,t,r,i,n,o,a,s,c,l=this,d=l.chart,f=d.renderer,p=l.options,m=l.tickPositions,g=l.ticks,v=l.horiz,b=l.side,y=d.inverted?[1,0,3,2][b]:b,x=0,w=0,k=p.title,S=p.labels,R=0,P=d.axisOffset,d=d.clipOffset,C=[-1,1,1,-1][b],T=1,q=h(S.maxStaggerLines,5);if(l.hasData=e=l.hasVisibleSeries||u(l.min)&&u(l.max)&&!!m,l.showAxis=t=e||h(p.showEmpty,!0),l.staggerLines=l.horiz&&S.staggerLines,l.axisGroup||(l.gridGroup=f.g("grid").attr({zIndex:p.gridZIndex||1}).add(),l.axisGroup=f.g("axis").attr({zIndex:p.zIndex||2}).add(),l.labelGroup=f.g("axis-labels").attr({zIndex:S.zIndex||7}).addClass("highcharts-"+l.coll.toLowerCase()+"-labels").add()),e||l.isLinked){if(l.labelAlign=h(S.align||l.autoLabelAlign(S.rotation)),zt(m,function(e){g[e]?g[e].addLabel():g[e]=new A(l,e)}),l.horiz&&!l.staggerLines&&q&&!S.rotation){for(e=l.reversed?[].concat(m).reverse():m;q>T;){for(n=[],o=!1,i=0;e.length>i;i++)a=e[i],s=(s=g[a].label&&g[a].label.getBBox())?s.width:0,c=i%T,s&&(a=l.translate(a),n[c]!==O&&n[c]>a&&(o=!0),n[c]=a+s);if(!o)break;T++}T>1&&(l.staggerLines=T)}zt(m,function(e){(0===b||2===b||{1:"left",3:"right"}[b]===l.labelAlign)&&(R=ft(g[e].getLabelSize(),R))}),l.staggerLines&&(R*=l.staggerLines,l.labelOffset=R)}else for(i in g)g[i].destroy(),delete g[i];k&&k.text&&k.enabled!==!1&&(l.axisTitle||(l.axisTitle=f.text(k.text,0,0,k.useHTML).attr({zIndex:7,rotation:k.rotation||0,align:k.textAlign||{low:"left",middle:"center",high:"right"}[k.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(k.style).add(l.axisGroup),l.axisTitle.isNew=!0),t&&(x=l.axisTitle.getBBox()[v?"height":"width"],r=k.offset,w=u(r)?0:h(k.margin,v?5:10)),l.axisTitle[t?"show":"hide"]()),l.offset=C*h(p.offset,P[b]),f=2===b?l.tickBaseline:0,v=R+w+(R&&C*(v?h(S.y,l.tickBaseline+8):S.x)-f),l.axisTitleMargin=h(r,v),P[b]=ft(P[b],l.axisTitleMargin+x+C*l.offset,v),d[y]=ft(d[y],2*ut(p.lineWidth/2))},getLinePath:function(e){var t=this.chart,r=this.opposite,i=this.offset,n=this.horiz,o=this.left+(r?this.width:0)+i,i=t.chartHeight-this.bottom-(r?this.height:0)+i;
return r&&(e*=-1),t.renderer.crispLine(["M",n?this.left:o,n?i:this.top,"L",n?t.chartWidth-this.right:o,n?i:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,n=this.len,o=this.options.title,a=e?t:i,s=this.opposite,c=this.offset,l=r(o.style.fontSize||12),n={low:a+(e?0:n),middle:a+n/2,high:a+(e?n:0)}[o.align],t=(e?i+this.height:t)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:e?n:t+(s?this.width:0)+c+(o.x||0),y:e?t-(s?this.height:0)+c:n+(o.y||0)}},render:function(){var e,t,r,i=this,n=i.horiz,o=i.reversed,a=i.chart,s=a.renderer,l=i.options,d=i.isLog,f=i.isLinked,h=i.tickPositions,p=i.axisTitle,m=i.ticks,g=i.minorTicks,v=i.alternateBands,b=l.stackLabels,y=l.alternateGridColor,x=i.tickmarkOffset,w=l.lineWidth,k=a.hasRendered&&u(i.oldMin)&&!isNaN(i.oldMin),S=i.hasData,R=i.showAxis,P=l.labels.overflow,C=i.justifyLabels=n&&P!==!1;i.labelEdge.length=0,i.justifyToPlot="justify"===P,zt([m,g,v],function(e){for(var t in e)e[t].isActive=!1}),(S||f)&&(i.minorTickInterval&&!i.categories&&zt(i.getMinorTickPositions(),function(e){g[e]||(g[e]=new A(i,e,"minor")),k&&g[e].isNew&&g[e].render(null,!0),g[e].render(null,!1,1)}),h.length&&(e=h.slice(),(n&&o||!n&&!o)&&e.reverse(),C&&(e=e.slice(1).concat([e[0]])),zt(e,function(t,r){C&&(r=r===e.length-1?0:r+1),(!f||t>=i.min&&i.max>=t)&&(m[t]||(m[t]=new A(i,t)),k&&m[t].isNew&&m[t].render(r,!0,.1),m[t].render(r))}),x&&0===i.min&&(m[-1]||(m[-1]=new A(i,-1,null,!0)),m[-1].render(-1))),y&&zt(h,function(e,n){0===n%2&&i.max>e&&(v[e]||(v[e]=new ot.PlotLineOrBand(i)),t=e+x,r=h[n+1]!==O?h[n+1]+x:i.max,v[e].options={from:d?c(t):t,to:d?c(r):r,color:y},v[e].render(),v[e].isActive=!0)}),i._addedPlotLB||(zt((l.plotLines||[]).concat(l.plotBands||[]),function(e){i.addPlotBandOrLine(e)}),i._addedPlotLB=!0)),zt([m,g,v],function(e){var t,r,i=[],n=H?H.duration||500:0,o=function(){for(r=i.length;r--;)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e!==v&&a.hasRendered&&n?n&&setTimeout(o,n):o()}),w&&(n=i.getLinePath(w),i.axisLine?i.axisLine.animate({d:n}):i.axisLine=s.path(n).attr({stroke:l.lineColor,"stroke-width":w,zIndex:7}).add(i.axisGroup),i.axisLine[R?"show":"hide"]()),p&&R&&(p[p.isNew?"attr":"animate"](i.getTitlePosition()),p.isNew=!1),b&&b.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.render(),zt(this.plotLinesAndBands,function(e){e.render()}),zt(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,r=this,i=r.stacks,n=r.plotLinesAndBands;e||Yt(r);for(t in i)C(i[t]),i[t]=null;for(zt([r.ticks,r.minorTicks,r.alternateBands],function(e){C(e)}),e=n.length;e--;)n[e].destroy();zt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){r[e]&&(r[e]=r[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(this.crosshair)if((u(t)||!h(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var r,i=this.crosshair,n=i.animation;h(i.snap,!0)?u(t)&&(r=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):r=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,r=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:h(t.stackY,t.y)):this.getPlotLinePath(null,null,null,null,r),null===r?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[n?"animate":"attr"]({d:r},n):(n={"stroke-width":i.width||1,stroke:i.color||"#C0C0C0",zIndex:i.zIndex||2},i.dashStyle&&(n.dashstyle=i.dashStyle),this.cross=this.chart.renderer.path(r).attr(n).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},e(N.prototype,{getPlotBandPath:function(e,t){var r=this.getPlotLinePath(t),i=this.getPlotLinePath(e);return i&&r?i.push(r[4],r[5],r[1],r[2]):i=null,i},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var r=new ot.PlotLineOrBand(this,e).render(),i=this.userOptions;return r&&(t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(r)),r},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,r=this.options,i=this.userOptions,n=t.length;n--;)t[n].id===e&&t[n].destroy();zt([r.plotLines||[],i.plotLines||[],r.plotBands||[],i.plotBands||[]],function(t){for(n=t.length;n--;)t[n].id===e&&l(t,t[n])})}}),N.prototype.getTimeTicks=function(t,r,i,n){var o,a=[],s={},c=I.global.useUTC,l=new Date(r-G),d=t.unitRange,f=t.count;if(u(r)){d>=F.second&&(l.setMilliseconds(0),l.setSeconds(d>=F.minute?0:f*ut(l.getSeconds()/f))),d>=F.minute&&l[et](d>=F.hour?0:f*ut(l[X]()/f)),d>=F.hour&&l[tt](d>=F.day?0:f*ut(l[V]()/f)),d>=F.day&&l[rt](d>=F.month?1:f*ut(l[K]()/f)),d>=F.month&&(l[it](d>=F.year?0:f*ut(l[Q]()/f)),o=l[Z]()),d>=F.year&&(o-=o%f,l[nt](o)),d===F.week&&l[rt](l[K]()-l[Y]()+h(n,1)),r=1,G&&(l=new Date(l.getTime()+G)),o=l[Z]();for(var n=l.getTime(),p=l[Q](),m=l[K](),g=c?G:(864e5+6e4*l.getTimezoneOffset())%864e5;i>n;)a.push(n),d===F.year?n=J(o+r*f,0):d===F.month?n=J(o,p+r*f):c||d!==F.day&&d!==F.week?n+=d*f:n=J(o,p,m+r*f*(d===F.day?1:7)),r++;a.push(n),zt(Jt(a,function(e){return F.hour>=d&&e%F.day===g}),function(e){s[e]="day"})}return a.info=e(t,{higherRanks:s,totalRange:d*f}),a},N.prototype.normalizeTimeTickInterval=function(e,t){var r,i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=i[i.length-1],o=F[n[0]],a=n[1];for(r=0;i.length>r&&(n=i[r],o=F[n[0]],a=n[1],!(i[r+1]&&(o*a[a.length-1]+F[i[r+1][0]])/2>=e));r++);return o===F.year&&5*o>e&&(a=[1,2,5]),i=k(e/o,a,"year"===n[0]?ft(w(e/o),1):1),{unitRange:o,count:i,unitName:n[0]}},N.prototype.getLogTickPositions=function(e,t,r,i){var n=this.options,o=this.len,a=[];if(i||(this._minorAutoInterval=null),e>=.5)e=lt(e),a=this.getLinearTickPositions(e,t,r);else if(e>=.08)for(var l,u,d,f,p,o=ut(t),n=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];r+1>o&&!p;o++)for(u=n.length,l=0;u>l&&!p;l++)d=s(c(o)*n[l]),d>t&&(!i||r>=f)&&f!==O&&a.push(f),f>r&&(p=!0),f=d;else t=c(t),r=c(r),e=n[i?"minorTickInterval":"tickInterval"],e=h("auto"===e?null:e,this._minorAutoInterval,(r-t)*(n.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),e=k(e,null,w(e)),a=Xt(this.getLinearTickPositions(e,t,r),s),i||(this._minorAutoInterval=e/5);return i||(this.tickInterval=e),a};var ur=ot.Tooltip=function(){this.init.apply(this,arguments)};ur.prototype={init:function(e,t){var i=t.borderWidth,n=t.style,o=r(n.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":i,r:t.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-9999}),Et||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,r,i,n){var o=this,a=o.now,s=o.options.animation!==!1&&!o.isHidden&&(pt(t-a.x)>1||pt(r-a.y)>1),c=o.followPointer||o.len>1;e(a,{x:s?(2*a.x+t)/3:t,y:s?(a.y+r)/2:r,anchorX:c?O:s?(2*a.anchorX+i)/3:i,anchorY:c?O:s?(a.anchorY+n)/2:n}),o.label.attr(a),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,r,i,n)},32))},hide:function(){var e,t=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},h(this.options.hideDelay,500)),e&&zt(e,function(e){e.setState()}),this.chart.hoverPoints=null)},getAnchor:function(e,t){var r,i,n=this.chart,o=n.inverted,a=n.plotTop,s=0,c=0,e=f(e);return r=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===O&&(t=n.pointer.normalize(t)),r=[t.chartX-n.plotLeft,t.chartY-a]),r||(zt(e,function(e){i=e.series.yAxis,s+=e.plotX,c+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&i?i.top-a:0)}),s/=e.length,c/=e.length,r=[o?n.plotWidth-c:s,this.shared&&!o&&e.length>1&&t?t.chartY-a:o?n.plotHeight-s:c]),Xt(r,lt)},getPosition:function(e,t,r){var i,n=this.chart,o=this.distance,a={},s=["y",n.chartHeight,t,r.plotY+n.plotTop],c=["x",n.chartWidth,e,r.plotX+n.plotLeft],l=r.ttBelow||n.inverted&&!r.negative||!n.inverted&&r.negative,u=function(e,t,r,i){var n=i-o>r,t=t>i+o+r,r=i-o-r;if(i+=o,l&&t)a[e]=i;else if(!l&&n)a[e]=r;else if(n)a[e]=r;else{if(!t)return!1;a[e]=i}},d=function(e,t,r,i){return o>i||i>t-o?!1:(a[e]=r/2>i?1:i>t-r/2?t-r-2:i-r/2,void 0)},f=function(e){var t=s;s=c,c=t,i=e},h=function(){u.apply(0,s)!==!1?d.apply(0,c)===!1&&!i&&(f(!0),h()):i?a.x=a.y=0:(f(!0),h())};return(n.inverted||this.len>1)&&f(),h(),a},defaultFormatter:function(e){var t,r=this.points||f(this),i=r[0].series;return t=[e.tooltipHeaderFormatter(r[0])],zt(r,function(e){i=e.series,t.push(i.tooltipFormatter&&i.tooltipFormatter(e)||e.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),t.push(e.options.footerFormat||""),t.join("")},refresh:function(e,t){var r,i,n,o=this.chart,a=this.label,s=this.options,c={},l=[];n=s.formatter||this.defaultFormatter;var u,c=o.hoverPoints,d=this.shared;clearTimeout(this.hideTimer),this.followPointer=f(e)[0].series.tooltipOptions.followPointer,i=this.getAnchor(e,t),r=i[0],i=i[1],!d||e.series&&e.series.noSharedTooltip?c=e.getLabelConfig():(o.hoverPoints=e,c&&zt(c,function(e){e.setState()}),zt(e,function(e){e.setState("hover"),l.push(e.getLabelConfig())}),c={x:e[0].category,y:e[0].y},c.points=l,this.len=l.length,e=e[0]),n=n.call(c,this),c=e.series,this.distance=h(c.tooltipOptions.distance,16),n===!1?this.hide():(this.isHidden&&(er(a),a.attr("opacity",1).show()),a.attr({text:n}),u=s.borderColor||e.color||c.color||"#606060",a.attr({stroke:u}),this.updatePosition({plotX:r,plotY:i,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1),Kt(o,"tooltipRefresh",{text:n,x:r+o.plotLeft,y:i+o.plotTop,borderColor:u})},updatePosition:function(e){var t=this.chart,r=this.label,r=(this.options.positioner||this.getPosition).call(this,r.width,r.height,e);this.move(lt(r.x),lt(r.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t,r=e.series,i=r.tooltipOptions,n=i.dateTimeLabelFormats,o=i.xDateFormat,s=r.xAxis,c=s&&"datetime"===s.options.type&&a(e.key),i=i.headerFormat,s=s&&s.closestPointRange;if(c&&!o){if(s){for(t in F)if(F[t]>=s||F[t]<=F.day&&e.key%F[t]>0){o=n[t];break}}else o=n.day;o=o||n.year}return c&&o&&(i=i.replace("{point.key}","{point.key:"+o+"}")),x(i,{point:e,series:r})}};var dr;M=at.documentElement.ontouchstart!==O;var fr=ot.Pointer=function(e,t){this.init(e,t)};if(fr.prototype={init:function(e,t){var r,i=t.chart,n=i.events,o=Et?"":i.zoomType,i=e.inverted;this.options=t,this.chart=e,this.zoomX=r=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=r&&!i||o&&i,this.zoomVert=o&&!i||r&&i,this.hasZoom=r||o,this.runChartClick=n&&!!n.click,this.pinchDown=[],this.lastValidTouch={},ot.Tooltip&&t.tooltip.enabled&&(e.tooltip=new ur(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(t,r){var i,n,t=t||window.event,t=Qt(t);return t.target||(t.target=t.srcElement),n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,r||(this.chartPosition=r=Gt(this.chart.container)),n.pageX===O?(i=ft(t.x,t.clientX-r.left),n=t.y):(i=n.pageX-r.left,n=n.pageY-r.top),e(t,{chartX:lt(i),chartY:lt(n)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return zt(this.chart.axes,function(r){t[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(e[r.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t,r,i,n,o=this.chart,a=o.series,s=o.tooltip,c=o.hoverPoint,l=o.hoverSeries,u=o.chartWidth,d=this.getIndex(e);if(s&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(r=[],i=a.length,n=0;i>n;n++)a[n].visible&&a[n].options.enableMouseTracking!==!1&&!a[n].noSharedTooltip&&a[n].singularTooltips!==!0&&a[n].tooltipPoints.length&&(t=a[n].tooltipPoints[d])&&t.series&&(t._dist=pt(d-t.clientX),u=ht(u,t._dist),r.push(t));for(i=r.length;i--;)r[i]._dist>u&&r.splice(i,1);r.length&&r[0].clientX!==this.hoverX&&(s.refresh(r,e),this.hoverX=r[0].clientX)}a=l&&l.tooltipOptions.followPointer,l&&l.tracker&&!a?(t=l.tooltipPoints[d])&&t!==c&&t.onMouseOver(e):s&&a&&!s.isHidden&&(l=s.getAnchor([{}],e),s.updatePosition({plotX:l[0],plotY:l[1]})),s&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){Nt[dr]&&Nt[dr].pointer.onDocumentMouseMove(e)},Vt(at,"mousemove",this._onDocumentMouseMove)),zt(o.axes,function(r){r.drawCrosshair(e,h(t,c))})},reset:function(e){var t=this.chart,r=t.hoverSeries,i=t.hoverPoint,n=t.tooltip,o=n&&n.shared?t.hoverPoints:i;(e=e&&n&&o)&&f(o)[0].plotX===O&&(e=!1),e?(n.refresh(o),i&&i.setState(i.state,!0)):(i&&i.onMouseOut(),r&&r.onMouseOut(),n&&n.hide(),this._onDocumentMouseMove&&(Yt(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),zt(t.axes,function(e){e.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(e,t){var r,i=this.chart;zt(i.series,function(n){r=e||n.getPlotBox(),n.xAxis&&n.xAxis.zoomEnabled&&(n.group.attr(r),n.markerGroup&&(n.markerGroup.attr(r),n.markerGroup.clip(t?i.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(r))}),i.clipRect.attr(t||i.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,r=this.chart,i=r.options.chart,n=e.chartX,o=e.chartY,a=this.zoomHor,s=this.zoomVert,c=r.plotLeft,l=r.plotTop,u=r.plotWidth,d=r.plotHeight,f=this.mouseDownX,h=this.mouseDownY,p=i.panKey&&e[i.panKey+"Key"];c>n?n=c:n>c+u&&(n=c+u),l>o?o=l:o>l+d&&(o=l+d),this.hasDragged=Math.sqrt(Math.pow(f-n,2)+Math.pow(h-o,2)),this.hasDragged>10&&(t=r.isInsidePlot(f-c,h-l),r.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!p&&!this.selectionMarker&&(this.selectionMarker=r.renderer.rect(c,l,a?1:u,s?1:d,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&a&&(n-=f,this.selectionMarker.attr({width:pt(n),x:(n>0?0:n)+f})),this.selectionMarker&&s&&(n=o-h,this.selectionMarker.attr({height:pt(n),y:(n>0?0:n)+h})),t&&!this.selectionMarker&&i.panning&&r.pan(e,i.panning))},drop:function(t){var r=this.chart,i=this.hasPinched;if(this.selectionMarker){var n,o={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,c=a.attr?a.attr("y"):a.y,l=a.attr?a.attr("width"):a.width,u=a.attr?a.attr("height"):a.height;(this.hasDragged||i)&&(zt(r.axes,function(e){if(e.zoomEnabled){var r=e.horiz,i="touchend"===t.type?e.minPixelPadding:0,a=e.toValue((r?s:c)+i),r=e.toValue((r?s+l:c+u)-i);!isNaN(a)&&!isNaN(r)&&(o[e.coll].push({axis:e,min:ht(a,r),max:ft(a,r)}),n=!0)}}),n&&Kt(r,"selection",o,function(t){r.zoom(e(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}r&&(p(r.container,{cursor:r._cursor}),r.cancelClick=this.hasDragged>10,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Nt[dr]&&Nt[dr].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,r=this.chartPosition,i=t.hoverSeries,e=this.normalize(e,r);r&&i&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=Nt[dr];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;dr=t.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var r;e;){if(r=d(e,"class")){if(-1!==r.indexOf(t))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,r=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||r===t||t.onMouseOut()},onContainerClick:function(t){var r=this.chart,i=r.hoverPoint,n=r.plotLeft,o=r.plotTop,t=this.normalize(t);t.cancelBubble=!0,r.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Kt(i.series,"click",e(t,{point:i})),r.hoverPoint&&i.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),r.isInsidePlot(t.chartX-n,t.chartY-o)&&Kt(r,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Vt(t,"mouseleave",e.onContainerMouseLeave),1===Dt&&Vt(at,"mouseup",e.onDocumentMouseUp),M&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Dt&&Vt(at,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Yt(this.chart.container,"mouseleave",this.onContainerMouseLeave),Dt||(Yt(at,"mouseup",this.onDocumentMouseUp),Yt(at,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},e(ot.Pointer.prototype,{pinchTranslate:function(e,t,r,i,n,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,r,i,n,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,r,i,n,o)},pinchTranslateDirection:function(e,t,r,i,n,o,a,s){var c,l,u,d=this.chart,f=e?"x":"y",h=e?"X":"Y",p="chart"+h,m=e?"width":"height",g=d["plot"+(e?"Left":"Top")],v=s||1,b=d.inverted,y=d.bounds[e?"h":"v"],x=1===t.length,w=t[0][p],k=r[0][p],S=!x&&t[1][p],R=!x&&r[1][p],r=function(){!x&&pt(w-S)>20&&(v=s||pt(k-R)/pt(w-S)),l=(g-k)/v+w,c=d["plot"+(e?"Width":"Height")]/v};r(),t=l,y.min>t?(t=y.min,u=!0):t+c>y.max&&(t=y.max-c,u=!0),u?(k-=.8*(k-a[f][0]),x||(R-=.8*(R-a[f][1])),r()):a[f]=[k,R],b||(o[f]=l-g,o[m]=c),o=b?1/v:v,n[m]=c,n[f]=t,i[b?e?"scaleY":"scaleX":"scale"+h]=v,i["translate"+h]=o*g+(k-o*w)},pinch:function(t){var r=this,i=r.chart,n=r.pinchDown,o=r.followTouchMove,a=t.touches,s=a.length,c=r.lastValidTouch,l=r.hasZoom,u=r.selectionMarker,d={},f=1===s&&(r.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||i.runChartClick),p={};(l||o)&&!f&&t.preventDefault(),Xt(a,function(e){return r.normalize(e)}),"touchstart"===t.type?(zt(a,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),c.x=[n[0].chartX,n[1]&&n[1].chartX],c.y=[n[0].chartY,n[1]&&n[1].chartY],zt(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,n=e.toPixels(h(e.options.min,e.dataMin)),o=e.toPixels(h(e.options.max,e.dataMax)),a=ht(n,o),n=ft(n,o);t.min=ht(e.pos,a-r),t.max=ft(e.pos+e.len,n+r)}})):n.length&&(u||(r.selectionMarker=u=e({destroy:At},i.plotBox)),r.pinchTranslate(n,a,d,u,p,c),r.hasPinched=l,r.scaleGroups(d,p),!l&&o&&1===s&&this.runPointActions(r.normalize(t)))},onContainerTouchStart:function(e){var t=this.chart;dr=t.index,1===e.touches.length?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){(1===e.touches.length||2===e.touches.length)&&this.pinch(e)},onDocumentTouchEnd:function(e){Nt[dr]&&Nt[dr].pointer.drop(e)}}),st.PointerEvent||st.MSPointerEvent){var hr={},pr=!!st.PointerEvent,mr=function(){var e,t=[];t.item=function(e){return this[e]};for(e in hr)hr.hasOwnProperty(e)&&t.push({pageX:hr[e].pageX,pageY:hr[e].pageY,target:hr[e].target});return t},gr=function(e,t,r,i){e=e.originalEvent||e,"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Nt[dr]||(i(e),i=Nt[dr].pointer,i[t]({type:r,target:e.currentTarget,preventDefault:At,touches:mr()}))};e(fr.prototype,{onContainerPointerDown:function(e){gr(e,"onContainerTouchStart","touchstart",function(e){hr[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){gr(e,"onContainerTouchMove","touchmove",function(e){hr[e.pointerId]={pageX:e.pageX,pageY:e.pageY},hr[e.pointerId].target||(hr[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){gr(e,"onContainerTouchEnd","touchend",function(e){delete hr[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,pr?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,pr?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(at,pr?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),y(fr.prototype,"init",function(e,t,r){e.call(this,t,r),(this.hasZoom||this.followTouchMove)&&p(t.container,{"-ms-touch-action":Ot,"touch-action":Ot})}),y(fr.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Vt)}),y(fr.prototype,"destroy",function(e){this.batchMSEvents(Yt),e.call(this)})}var vr=ot.Legend=function(e,t){this.init(e,t)};vr.prototype={init:function(e,r){var i=this,n=r.itemStyle,o=h(r.padding,8),a=r.itemMarginTop||0;this.options=r,r.enabled&&(i.itemStyle=n,i.itemHiddenStyle=t(n,r.itemHiddenStyle),i.itemMarginTop=a,i.padding=o,i.initialItemX=o,i.initialItemY=o-5,i.maxItemWidth=0,i.chart=e,i.itemHeight=0,i.lastLineHeight=0,i.symbolWidth=h(r.symbolWidth,16),i.pages=[],i.render(),Vt(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(e,t){var r,i=this.options,n=e.legendItem,o=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,i=t?i.itemStyle.color:s,c=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,l={fill:c};if(n&&n.css({fill:i,color:i}),o&&o.attr({stroke:c}),a){if(s&&a.isMarker)for(r in l.stroke=c,s=e.convertAttribs(s))n=s[r],n!==O&&(l[r]=n);a.attr(l)}},positionItem:function(e){var t=this.options,r=t.symbolPadding,t=!t.rtl,i=e._legendItemPos,n=i[0],i=i[1],o=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?n:this.legendWidth-n-2*r-4,i),o&&(o.x=n,o.y=i)},destroyItem:function(e){var t=e.checkbox;zt(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&T(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,r=this.group.alignAttr,i=this.clipHeight||this.legendHeight;r&&(t=r.translateY,zt(this.allItems,function(n){var o,a=n.checkbox;a&&(o=t+a.y+(e||0)+3,p(a,{left:r.translateX+n.checkboxOffset+a.x-20+"px",top:o+"px",display:o>t-6&&t+i-6>o?"":Ot}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,r=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),r=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(e){var r=this.chart,i=r.renderer,n=this.options,o="horizontal"===n.layout,a=this.symbolWidth,s=n.symbolPadding,c=this.itemStyle,l=this.itemHiddenStyle,u=this.padding,d=o?h(n.itemDistance,20):0,f=!n.rtl,p=n.width,m=n.itemMarginBottom||0,g=this.itemMarginTop,v=this.initialItemX,b=e.legendItem,y=e.series&&e.series.drawLegendSymbol?e.series:e,w=y.options,w=this.createCheckboxForItem&&w&&w.showCheckbox,k=n.useHTML;b||(e.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=b=i.text(n.labelFormat?x(n.labelFormat,e):n.labelFormatter.call(e),f?a+s:-s,this.baseline||0,k).css(t(e.visible?c:l)).attr({align:f?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.baseline=i.fontMetrics(c.fontSize,b).f+3+g,b.attr("y",this.baseline)),y.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,b,k,c,l),this.colorizeItem(e,e.visible),w&&this.createCheckboxForItem(e)),i=b.getBBox(),a=e.checkboxOffset=n.itemWidth||e.legendItemWidth||a+s+i.width+d+(w?20:0),this.itemHeight=s=lt(e.legendItemHeight||i.height),o&&this.itemX-v+a>(p||r.chartWidth-2*u-v-n.x)&&(this.itemX=v,this.itemY+=g+this.lastLineHeight+m,this.lastLineHeight=0),this.maxItemWidth=ft(this.maxItemWidth,a),this.lastItemY=g+this.itemY+m,this.lastLineHeight=ft(s,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=a:(this.itemY+=g+s+m,this.lastLineHeight=s),this.offsetWidth=p||ft((o?this.itemX-v-d:a)+u,this.offsetWidth)},getAllItems:function(){var e=[];return zt(this.chart.series,function(t){var r=t.options;h(r.showInLegend,u(r.linkedTo)?!1:O,!0)&&(e=e.concat(t.legendItems||("point"===r.legendType?t.data:t)))}),e},render:function(){var t,r,i,n,o=this,a=o.chart,s=a.renderer,c=o.group,l=o.box,u=o.options,d=o.padding,f=u.borderWidth,h=u.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,c||(o.group=c=s.g("legend").attr({zIndex:7}).add(),o.contentGroup=s.g().attr({zIndex:1}).add(c),o.scrollGroup=s.g().add(o.contentGroup)),o.renderTitle(),t=o.getAllItems(),S(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),u.reversed&&t.reverse(),o.allItems=t,o.display=r=!!t.length,zt(t,function(e){o.renderItem(e)}),i=u.width||o.offsetWidth,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),(f||h)&&(i+=d,n+=d,l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(o.box=l=s.rect(0,0,i,n,u.borderRadius,f||0).attr({stroke:u.borderColor,"stroke-width":f||0,fill:h||Ot}).add(c).shadow(u.shadow),l.isNew=!0),l[r?"show":"hide"]()),o.legendWidth=i,o.legendHeight=n,zt(t,function(e){o.positionItem(e)}),r&&c.align(e({width:i,height:n},u),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,r,i=this,n=this.chart,o=n.renderer,a=this.options,s=a.y,s=n.spacingBox.height+("top"===a.verticalAlign?-s:s)-this.padding,c=a.maxHeight,l=this.clipRect,u=a.navigation,d=h(u.animation,!0),f=u.arrowSize||12,p=this.nav,m=this.pages,g=this.allItems;return"horizontal"===a.layout&&(s/=2),c&&(s=ht(s,c)),m.length=0,e>s&&!a.useHTML?(this.clipHeight=t=ft(s-20-this.titleHeight-this.padding,0),this.currentPage=h(this.currentPage,1),this.fullHeight=e,zt(g,function(e,i){var n=e._legendItemPos[1],o=lt(e.legendItem.getBBox().height),a=m.length;(!a||n-m[a-1]>t&&(r||n)!==m[a-1])&&(m.push(r||n),a++),i===g.length-1&&n+o-m[a-1]>t&&m.push(n),n!==r&&(r=n)}),l||(l=i.clipRect=o.clipRect(0,this.padding,9999,0),i.contentGroup.clip(l)),l.attr({height:t}),p||(this.nav=p=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,d)}).add(p),this.pager=o.text("",15,10).css(u.style).add(p),this.down=o.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,d)}).add(p)),i.scroll(0),e=s):p&&(l.attr({height:n.chartHeight}),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var r=this.pages,i=r.length,n=this.currentPage+e,o=this.clipHeight,a=this.options.navigation,s=a.activeColor,a=a.inactiveColor,c=this.pager,l=this.padding;n>i&&(n=i),n>0&&(t!==O&&E(t,this.chart),this.nav.attr({translateX:l,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===n?a:s}).css({cursor:1===n?"default":"pointer"}),c.attr({text:n+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:n===i?a:s}).css({cursor:n===i?"default":"pointer"}),r=-r[n-1]+this.initialItemY,this.scrollGroup.animate({translateY:r}),this.currentPage=n,this.positionCheckboxes(r))}},Ut=ot.LegendSymbolMixin={drawRectangle:function(e,t){var r=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-r/2,e.symbolWidth,r,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,r=this.options,i=r.marker;t=e.symbolWidth;var n,o=this.chart.renderer,a=this.legendGroup,e=e.baseline-lt(.3*o.fontMetrics(e.options.itemStyle.fontSize,this.legendItem).b);r.lineWidth&&(n={"stroke-width":r.lineWidth},r.dashStyle&&(n.dashstyle=r.dashStyle),this.legendLine=o.path(["M",0,e,"L",t,e]).attr(n).add(a)),i&&i.enabled!==!1&&(r=i.radius,this.legendSymbol=t=o.symbol(this.symbol,t/2-r,e-r,2*r,2*r).add(a),t.isMarker=!0)}},(/Trident\/7\.0/.test(yt)||Rt)&&y(vr.prototype,"positionItem",function(e,t){var r=this,i=function(){t._legendItemPos&&e.call(r,t)};i(),setTimeout(i)}),D.prototype={init:function(e,r){var i,n=e.series;e.series=null,i=t(I,e),i.series=e.series=n,this.userOptions=e,n=i.chart,this.margin=this.splashArray("margin",n),this.spacing=this.splashArray("spacing",n);var o=n.events;this.bounds={h:{},v:{}},this.callback=r,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=n.showAxes;var a,s=this;if(s.index=Nt.length,Nt.push(s),Dt++,n.reflow!==!1&&Vt(s,"load",function(){s.initReflow()}),o)for(a in o)Vt(s,a,o[a]);s.xAxis=[],s.yAxis=[],s.animation=Et?!1:h(n.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=Bt[e.type||t.type||t.defaultSeriesType])||z(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,r){var i=r?t:e,e=r?e:t;return i>=0&&this.plotWidth>=i&&e>=0&&this.plotHeight>=e},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&zt(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var r,i,n=this.axes,o=this.series,a=this.pointer,s=this.legend,c=this.isDirtyLegend,l=this.hasCartesianSeries,u=this.isDirtyBox,d=o.length,f=d,h=this.renderer,p=h.isHidden(),m=[];for(E(t,this),p&&this.cloneRenderTo(),this.layOutTitles();f--;)if(t=o[f],t.options.stacking&&(r=!0,t.isDirty)){i=!0;break}if(i)for(f=d;f--;)t=o[f],t.options.stacking&&(t.isDirty=!0);zt(o,function(e){e.isDirty&&"point"===e.options.legendType&&(c=!0)}),c&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),r&&this.getStacks(),l&&(this.isResizing||(this.maxTicks=null,zt(n,function(e){e.setScale()})),this.adjustTickAmounts()),this.getMargins(),l&&(zt(n,function(e){e.isDirty&&(u=!0)}),zt(n,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,m.push(function(){Kt(t,"afterSetExtremes",e(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(u||r)&&t.redraw()})),u&&this.drawChartBox(),zt(o,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),a&&a.reset(!0),h.draw(),Kt(this,"redraw"),p&&this.cloneRenderTo(!0),zt(m,function(e){e.call()})},get:function(e){var t,r,i=this.axes,n=this.series;for(t=0;i.length>t;t++)if(i[t].options.id===e)return i[t];for(t=0;n.length>t;t++)if(n[t].options.id===e)return n[t];for(t=0;n.length>t;t++)for(r=n[t].points||[],i=0;r.length>i;i++)if(r[i].id===e)return r[i];return null},getAxes:function(){var e=this,t=this.options,r=t.xAxis=f(t.xAxis||{}),t=t.yAxis=f(t.yAxis||{});zt(r,function(e,t){e.index=t,e.isX=!0}),zt(t,function(e,t){e.index=t}),r=r.concat(t),zt(r,function(t){new N(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return zt(this.series,function(t){e=e.concat(Jt(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Jt(this.series,function(e){return e.selected})},getStacks:function(){var e=this;zt(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),zt(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+h(t.options.stack,""))})},setTitle:function(e,r,i){var n,o,a=this,s=a.options;o=s.title=t(s.title,e),n=s.subtitle=t(s.subtitle,r),s=n,zt([["title",e,o],["subtitle",r,s]],function(e){var t=e[0],r=a[t],i=e[1],e=e[2];r&&i&&(a[t]=r=r.destroy()),e&&e.text&&!r&&(a[t]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),a.layOutTitles(i)},layOutTitles:function(t){var r=0,i=this.title,n=this.subtitle,o=this.options,a=o.title,o=o.subtitle,s=this.renderer,c=this.spacingBox.width-44;!i||(i.css({width:(a.width||c)+"px"}).align(e({y:s.fontMetrics(a.style.fontSize,i).b-3},a),!1,"spacingBox"),a.floating||a.verticalAlign)||(r=i.getBBox().height),n&&(n.css({width:(o.width||c)+"px"}).align(e({y:r+(a.margin-13)+s.fontMetrics(a.style.fontSize,n).b},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(r=dt(r+n.getBBox().height))),i=this.titleOffset!==r,this.titleOffset=r,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&h(t,!0)&&this.isDirtyBox&&this.redraw())
},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,r=this.renderToClone||this.renderTo;u(t)||(this.containerWidth=Ht(r,"width")),u(e)||(this.containerHeight=Ht(r,"height")),this.chartWidth=ft(0,t||this.containerWidth||600),this.chartHeight=ft(0,h(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,r=this.container;e?t&&(this.renderTo.appendChild(r),T(t),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=t=this.renderTo.cloneNode(0),p(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),at.body.appendChild(t),r&&t.appendChild(r))},getContainer:function(){var t,n,o,a,s=this.options.chart;this.renderTo=t=s.renderTo,a="highcharts-"+_t++,i(t)&&(this.renderTo=t=at.getElementById(t)),t||z(13,!0),n=r(d(t,"data-highcharts-chart")),!isNaN(n)&&Nt[n]&&Nt[n].hasRendered&&Nt[n].destroy(),d(t,"data-highcharts-chart",this.index),t.innerHTML="",!s.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,o=this.chartHeight,this.container=t=m(Lt,{className:"highcharts-container"+(s.className?" "+s.className:""),id:a},e({position:"relative",overflow:"hidden",width:n+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=s.forExport?new ar(t,n,o,s.style,!0):new j(t,n,o,s.style),Et&&this.renderer.create(this,t,n,o)},getMargins:function(){var e,t=this.spacing,r=this.legend,i=this.margin,n=this.options.legend,o=h(n.margin,20),a=n.x,s=n.y,c=n.align,l=n.verticalAlign,d=this.titleOffset;this.resetMargins(),e=this.axisOffset,d&&!u(i[0])&&(this.plotTop=ft(this.plotTop,d+this.options.title.margin+t[0])),r.display&&!n.floating&&("right"===c?u(i[1])||(this.marginRight=ft(this.marginRight,r.legendWidth-a+o+t[1])):"left"===c?u(i[3])||(this.plotLeft=ft(this.plotLeft,r.legendWidth+a+o+t[3])):"top"===l?u(i[0])||(this.plotTop=ft(this.plotTop,r.legendHeight+s+o+t[0])):"bottom"!==l||u(i[2])||(this.marginBottom=ft(this.marginBottom,r.legendHeight-s+o+t[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&zt(this.axes,function(e){e.getOffset()}),u(i[3])||(this.plotLeft+=e[3]),u(i[0])||(this.plotTop+=e[0]),u(i[2])||(this.marginBottom+=e[2]),u(i[1])||(this.marginRight+=e[1]),this.setChartSize()},reflow:function(e){var t=this,r=t.options.chart,i=t.renderTo,n=r.width||Ht(i,"width"),o=r.height||Ht(i,"height"),r=e?e.target:st,i=function(){t.container&&(t.setSize(n,o,!1),t.hasUserSize=null)};t.hasUserSize||!n||!o||r!==st&&r!==at||((n!==t.containerWidth||o!==t.containerHeight)&&(clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(i,100):i()),t.containerWidth=n,t.containerHeight=o)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Vt(st,"resize",t),Vt(e,"destroy",function(){Yt(st,"resize",t)})},setSize:function(e,t,r){var i,n,o,a=this;a.isResizing+=1,o=function(){a&&Kt(a,"endResize",null,function(){a.isResizing-=1})},E(r,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,u(e)&&(a.chartWidth=i=ft(0,lt(e)),a.hasUserSize=!!i),u(t)&&(a.chartHeight=n=ft(0,lt(t))),(H?Zt:p)(a.container,{width:i+"px",height:n+"px"},H),a.setChartSize(!0),a.renderer.setSize(i,n,r),a.maxTicks=null,zt(a.axes,function(e){e.isDirty=!0,e.setScale()}),zt(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(r),a.oldChartHeight=null,Kt(a,"resize"),H===!1?o():setTimeout(o,H&&H.duration||500)},setChartSize:function(e){var t,r,i,n,o=this.inverted,a=this.renderer,s=this.chartWidth,c=this.chartHeight,l=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=t=lt(this.plotLeft),this.plotTop=r=lt(this.plotTop),this.plotWidth=i=ft(0,lt(s-t-this.marginRight)),this.plotHeight=n=ft(0,lt(c-r-this.marginBottom)),this.plotSizeX=o?n:i,this.plotSizeY=o?i:n,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:u[3],y:u[0],width:s-u[3]-u[1],height:c-u[0]-u[2]},this.plotBox=a.plotBox={x:t,y:r,width:i,height:n},s=2*ut(this.plotBorderWidth/2),o=dt(ft(s,d[3])/2),a=dt(ft(s,d[0])/2),this.clipBox={x:o,y:a,width:ut(this.plotSizeX-ft(s,d[1])/2-o),height:ft(0,ut(this.plotSizeY-ft(s,d[2])/2-a))},e||zt(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.spacing,t=this.margin;this.plotTop=h(t[0],e[0]),this.marginRight=h(t[1],e[1]),this.marginBottom=h(t[2],e[2]),this.plotLeft=h(t[3],e[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,r=this.renderer,i=this.chartWidth,n=this.chartHeight,o=this.chartBackground,a=this.plotBackground,s=this.plotBorder,c=this.plotBGImage,l=t.borderWidth||0,u=t.backgroundColor,d=t.plotBackgroundColor,f=t.plotBackgroundImage,h=t.plotBorderWidth||0,p=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,b=this.plotBox,y=this.clipRect,x=this.clipBox;e=l+(t.shadow?8:0),(l||u)&&(o?o.animate(o.crisp({width:i-e,height:n-e})):(o={fill:u||Ot},l&&(o.stroke=t.borderColor,o["stroke-width"]=l),this.chartBackground=r.rect(e/2,e/2,i-e,n-e,t.borderRadius,l).attr(o).addClass("highcharts-background").add().shadow(t.shadow))),d&&(a?a.animate(b):this.plotBackground=r.rect(p,m,g,v,0).attr({fill:d}).add().shadow(t.plotShadow)),f&&(c?c.animate(b):this.plotBGImage=r.image(f,p,m,g,v).add()),y?y.animate({width:x.width,height:x.height}):this.clipRect=r.clipRect(x),h&&(s?s.animate(s.crisp({x:p,y:m,width:g,height:v})):this.plotBorder=r.rect(p,m,g,v,0,-h).attr({stroke:t.plotBorderColor,"stroke-width":h,fill:Ot,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,r,i=this,n=i.options.chart,o=i.options.series;zt(["inverted","angular","polar"],function(a){for(e=Bt[n.type||n.defaultSeriesType],r=i[a]||n[a]||e&&e.prototype[a],t=o&&o.length;!r&&t--;)(e=Bt[o[t].type])&&e.prototype[a]&&(r=!0);i[a]=r})},linkSeries:function(){var e=this,t=e.series;zt(t,function(e){e.linkedSeries.length=0}),zt(t,function(t){var r=t.options.linkedTo;i(r)&&(r=":previous"===r?e.series[t.index-1]:e.get(r))&&(r.linkedSeries.push(t),t.linkedParent=r)})},renderSeries:function(){zt(this.series,function(e){e.translate(),e.setTooltipPoints&&e.setTooltipPoints(),e.render()})},renderLabels:function(){var t=this,i=t.options.labels;i.items&&zt(i.items,function(n){var o=e(i.style,n.style),a=r(o.left)+t.plotLeft,s=r(o.top)+t.plotTop+12;delete o.left,delete o.top,t.renderer.text(n.html,a,s).attr({zIndex:2}).css(o).add()})},render:function(){var e=this.axes,t=this.renderer,r=this.options;this.setTitle(),this.legend=new vr(this,r.legend),this.getStacks(),zt(e,function(e){e.setScale()}),this.getMargins(),this.maxTicks=null,zt(e,function(e){e.setTickPositions(!0),e.setMaxTicks()}),this.adjustTickAmounts(),this.getMargins(),this.drawChartBox(),this.hasCartesianSeries&&zt(e,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(r.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,t=this,r=t.axes,i=t.series,n=t.container,o=n&&n.parentNode;for(Kt(t,"destroy"),Nt[t.index]=O,Dt--,t.renderTo.removeAttribute("data-highcharts-chart"),Yt(t),e=r.length;e--;)r[e]=r[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();zt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var r=t[e];r&&r.destroy&&(t[e]=r.destroy())}),n&&(n.innerHTML="",Yt(n),o&&T(n));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!Tt&&st==st.top&&"complete"!==at.readyState||Et&&!st.canvg?(Et?lr.push(function(){e.firstRender()},e.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",e.firstRender),"complete"===at.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,r=e.callback;e.isReadyToRender()&&(e.getContainer(),Kt(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),zt(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Kt(e,"beforeRender"),ot.Pointer&&(e.pointer=new fr(e,t)),e.render(),e.renderer.draw(),r&&r.apply(e,[e]),zt(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),Kt(e,"load"))},splashArray:function(e,t){var r=t[e],r=n(r)?r:[r,r,r,r];return[h(t[e+"Top"],r[0]),h(t[e+"Right"],r[1]),h(t[e+"Bottom"],r[2]),h(t[e+"Left"],r[3])]}},D.prototype.callbacks=[],sr=ot.CenteredSeriesMixin={getCenter:function(){var e,t,i=this.options,n=this.chart,o=2*(i.slicedOffset||0),a=n.plotWidth-2*o,s=n.plotHeight-2*o,n=i.center,i=[h(n[0],"50%"),h(n[1],"50%"),i.size||"100%",i.innerSize||0],c=ht(a,s);return Xt(i,function(i,n){return t=/%$/.test(i),e=2>n||2===n&&t,(t?[a,s,c,c][n]*r(i)/100:i)+(e?o:0)})}};var br=function(){};br.prototype={init:function(e,t,r){return this.series=e,this.applyOptions(t,r),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(t,r){var i=this.series,n=i.options.pointValKey||i.pointValKey,t=br.prototype.optionsToObject.call(this,t);return e(this,t),this.options=this.options?e(this.options,t):t,n&&(this.y=this[n]),this.x===O&&i&&(this.x=r===O?i.autoIncrement():r),this},optionsToObject:function(e){var t={},r=this.series,i=r.pointArrayMap||["y"],n=i.length,a=0,s=0;if("number"==typeof e||null===e)t[i[0]]=e;else if(o(e))for(e.length>n&&(r=typeof e[0],"string"===r?t.name=e[0]:"number"===r&&(t.x=e[0]),a++);n>s;)t[i[s++]]=e[a++];else"object"==typeof e&&(t=e,e.dataLabels&&(r._hasPointLabels=!0),e.marker&&(r._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,r=t.hoverPoints;t.pointCount--,r&&(this.setState(),l(r,this),!r.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Yt(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),r=6;r--;)e=t[r],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,r=t.tooltipOptions,i=h(r.valueDecimals,""),n=r.valuePrefix||"",o=r.valueSuffix||"";return zt(t.pointArrayMap||["y"],function(t){t="{point."+t,(n||o)&&(e=e.replace(t+"}",n+t+"}"+o)),e=e.replace(t+"}",t+":,."+i+"f}")}),x(e,{point:this,series:this.series})},firePointEvent:function(e,t,r){var i=this,n=this.series.options;(n.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&n.allowPointSelect&&(r=function(e){i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Kt(this,e,t,r)}};var yr=function(){};yr.prototype={isCartesian:!0,type:"line",pointClass:br,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,r){var i,n,o=this,a=t.series,s=function(e,t){return h(e.options.index,e._i)-h(t.options.index,t._i)};o.chart=t,o.options=r=o.setOptions(r),o.linkedSeries=[],o.bindAxes(),e(o,{name:r.name,state:"",pointAttr:{},visible:r.visible!==!1,selected:r.selected===!0}),Et&&(r.animation=!1),n=r.events;for(i in n)Vt(o,i,n[i]);(n&&n.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),zt(o.parallelArrays,function(e){o[e+"Data"]=[]}),o.setData(r.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),a.push(o),o._i=a.length-1,S(a,s),this.yAxis&&S(this.yAxis.series,s),zt(a,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,r=t.options,i=t.chart;zt(t.axisTypes||[],function(n){zt(i[n],function(i){e=i.options,(r[n]===e.index||r[n]!==O&&r[n]===e.id||r[n]===O&&0===e.index)&&(i.series.push(t),t[n]=i,i.isDirty=!0)}),!t[n]&&t.optionalAxis!==n&&z(18,!0)})},updateParallelArrays:function(e,t){var r=e.series,i=arguments;zt(r.parallelArrays,"number"==typeof t?function(i){var n="y"===i&&r.toYData?r.toYData(e):e[i];r[i+"Data"][t]=n}:function(e){Array.prototype[t].apply(r[e+"Data"],Array.prototype.slice.call(i,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=h(t,e.pointStart,0);return this.pointInterval=h(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e,t=-1,r=[],i=this.points,n=i.length;if(n)if(this.options.connectNulls){for(e=n;e--;)null===i[e].y&&i.splice(e,1);i.length&&(r=[i])}else zt(i,function(e,o){null===e.y?(o>t+1&&r.push(i.slice(t+1,o)),t=o):o===n-1&&r.push(i.slice(t+1,o+1))});this.segments=r},setOptions:function(e){var r=this.chart,i=r.options.plotOptions,r=r.userOptions||{},n=r.plotOptions||{},o=i[this.type];return this.userOptions=e,i=t(o,i.series,e),this.tooltipOptions=t(I.tooltip,I.plotOptions[this.type].tooltip,r.tooltip,n.series&&n.series.tooltip,n[this.type]&&n[this.type].tooltip,e.tooltip),null===o.marker&&delete i.marker,i},getCyclic:function(e,t,r){var i=this.userOptions,n="_"+e+"Index",o=e+"Counter";t||(u(i[n])?t=i[n]:(i[n]=t=this.chart[o]%r.length,this.chart[o]+=1),t=r[t]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||tr[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Ut.drawLineMarker,setData:function(e,t,r,n){var s,c=this,l=c.points,u=l&&l.length||0,d=c.options,f=c.chart,p=null,m=c.xAxis,g=m&&!!m.categories,v=c.tooltipPoints,b=d.turboThreshold,y=this.xData,x=this.yData,w=(s=c.pointArrayMap)&&s.length,e=e||[];if(s=e.length,t=h(t,!0),n===!1||!s||u!==s||c.cropped||c.hasGroupedData){if(c.xIncrement=null,c.pointRange=g?1:d.pointRange,c.colorCounter=0,zt(this.parallelArrays,function(e){c[e+"Data"].length=0}),b&&s>b){for(r=0;null===p&&s>r;)p=e[r],r++;if(a(p)){for(g=h(d.pointStart,0),d=h(d.pointInterval,1),r=0;s>r;r++)y[r]=g,x[r]=e[r],g+=d;c.xIncrement=g}else if(o(p))if(w)for(r=0;s>r;r++)d=e[r],y[r]=d[0],x[r]=d.slice(1,w+1);else for(r=0;s>r;r++)d=e[r],y[r]=d[0],x[r]=d[1];else z(12)}else for(r=0;s>r;r++)e[r]!==O&&(d={series:c},c.pointClass.prototype.applyOptions.apply(d,[e[r]]),c.updateParallelArrays(d,r),g&&d.name)&&(m.names[d.x]=d.name);for(i(x[0])&&z(14,!0),c.data=[],c.options.data=e,r=u;r--;)l[r]&&l[r].destroy&&l[r].destroy();v&&(v.length=0),m&&(m.minRange=m.userMinRange),c.isDirty=c.isDirtyData=f.isDirtyBox=!0,r=!1}else zt(e,function(e,t){l[t].update(e,!1)});t&&f.redraw(r)},processData:function(e){var t,r=this.xData,i=this.yData,n=r.length;t=0;var o,a,s,c,l=this.xAxis,u=this.options,d=u.cropThreshold,f=0,h=this.isCartesian;if(h&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(h&&this.sorted&&(!d||n>d||this.forceCrop)&&(s=l.getExtremes(),c=s.min,s=s.max,c>r[n-1]||r[0]>s?(r=[],i=[]):(c>r[0]||r[n-1]>s)&&(t=this.cropData(this.xData,this.yData,c,s),r=t.xData,i=t.yData,t=t.start,o=!0,f=r.length)),e=r.length-1;e>=0;e--)n=r[e]-r[e-1],!o&&r[e]>c&&s>r[e]&&f++,n>0&&(a===O||a>n)?a=n:0>n&&this.requireSorting&&z(15);this.cropped=o,this.cropStart=t,this.processedXData=r,this.processedYData=i,this.activePointCount=f,null===u.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(e,t,r,i){var n,o=e.length,a=0,s=o,c=h(this.cropShoulder,1);for(n=0;o>n;n++)if(e[n]>=r){a=ft(0,n-c);break}for(;o>n;n++)if(e[n]>i){s=n+c;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,r,i,n=this.options.data,o=this.data,a=this.processedXData,s=this.processedYData,c=this.pointClass,l=a.length,u=this.cropStart||0,d=this.hasGroupedData,h=[];for(o||d||(o=[],o.length=n.length,o=this.data=o),i=0;l>i;i++)t=u+i,d?h[i]=(new c).init(this,[a[i]].concat(f(s[i]))):(o[t]?r=o[t]:n[t]!==O&&(o[t]=r=(new c).init(this,n[t],a[i])),h[i]=r);if(o&&(l!==(e=o.length)||d))for(i=0;e>i;i++)i===u&&!d&&(i+=l),o[i]&&(o[i].destroyElements(),o[i].plotX=O);this.data=o,this.points=h},getExtremes:function(e){var t,r=this.yAxis,i=this.processedXData,n=[],o=0;t=this.xAxis.getExtremes();var a,s,c,l,u=t.min,d=t.max,e=e||this.stackedYData||this.processedYData;for(t=e.length,l=0;t>l;l++)if(s=i[l],c=e[l],a=null!==c&&c!==O&&(!r.isLog||c.length||c>0),s=this.getExtremesFromAll||this.cropped||(i[l+1]||s)>=u&&d>=(i[l-1]||s),a&&s)if(a=c.length)for(;a--;)null!==c[a]&&(n[o++]=c[a]);else n[o++]=c;this.dataMin=h(void 0,R(n)),this.dataMax=h(void 0,P(n))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,r=this.xAxis,i=r.categories,n=this.yAxis,o=this.points,s=o.length,c=!!this.modifyValue,l=e.pointPlacement,d="between"===l||a(l),f=e.threshold,e=0;s>e;e++){var p=o[e],m=p.x,g=p.y,v=p.low,b=t&&n.stacks[(this.negStacks&&f>g?"-":"")+this.stackKey];n.isLog&&0>=g&&(p.y=g=null),p.plotX=r.translate(m,0,0,0,1,l,"flags"===this.type),t&&this.visible&&b&&b[m]&&(b=b[m],g=b.points[this.index+","+e],v=g[0],g=g[1],0===v&&(v=h(f,n.min)),n.isLog&&0>=v&&(v=null),p.total=p.stackTotal=b.total,p.percentage=b.total&&100*(p.y/b.total),p.stackY=g,b.setOffset(this.pointXOffset||0,this.barW||0)),p.yBottom=u(v)?n.translate(v,0,1,0,1):null,c&&(g=this.modifyValue(g,p)),p.plotY="number"==typeof g&&1/0!==g?n.translate(g,0,1,0,1):O,p.clientX=d?r.translate(m,0,0,0,1):p.plotX,p.negative=(f||0)>p.y,p.category=i&&i[p.x]!==O?i[p.x]:p.x}this.getSegments()},animate:function(t){var r,i=this.chart,o=i.renderer;r=this.options.animation;var a,s=this.clipBox||i.clipBox,c=i.inverted;r&&!n(r)&&(r=tr[this.type].animation),a=["_sharedClip",r.duration,r.easing,s.height].join(","),t?(t=i[a],r=i[a+"m"],t||(i[a]=t=o.clipRect(e(s,{width:0})),i[a+"m"]=r=o.clipRect(-99,c?-i.plotLeft:-i.plotTop,99,c?i.chartWidth:i.chartHeight)),this.group.clip(t),this.markerGroup.clip(r),this.sharedClipKey=a):((t=i[a])&&t.animate({width:i.plotSizeX},r),i[a+"m"]&&i[a+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,r=this.group,i=this.clipBox;r&&this.options.clip!==!1&&(t&&i||r.clip(i?e.renderer.clipRect(i):e.clipRect),this.markerGroup.clip()),Kt(this,"afterAnimate"),setTimeout(function(){t&&e[t]&&(i||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))},100)},drawPoints:function(){var t,r,i,n,o,a,s,c,l,u=this.points,d=this.chart;r=this.options.marker;var f,p=this.pointAttr[""],m=this.markerGroup,g=h(r.enabled,this.activePointCount<.5*this.xAxis.len/r.radius);if(r.enabled!==!1||this._hasPointMarkers)for(n=u.length;n--;)o=u[n],r=ut(o.plotX),i=o.plotY,l=o.graphic,s=o.marker||{},t=g&&s.enabled===O||s.enabled,f=d.isInsidePlot(lt(r),i,d.inverted),t&&i!==O&&!isNaN(i)&&null!==o.y?(t=o.pointAttr[o.selected?"select":""]||p,a=t.r,s=h(s.symbol,this.symbol),c=0===s.indexOf("url"),l?l[f?"show":"hide"](!0).animate(e({x:r-a,y:i-a},l.symbolName?{width:2*a,height:2*a}:{})):f&&(a>0||c)&&(o.graphic=d.renderer.symbol(s,r-a,i-a,2*a,2*a).attr(t).add(m))):l&&(o.graphic=l.destroy())},convertAttribs:function(e,t,r,i){var n,o,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},r=r||{},i=i||{};for(n in a)o=a[n],s[n]=h(e[o],t[n],r[n],i[n]);return s},getAttribs:function(){var t,r=this,i=r.options,n=tr[r.type].marker?i.marker:i,o=n.states,a=o.hover,s=r.color;t={stroke:s,fill:s};var c,l,d=r.points||[],f=[],h=r.pointAttrToOptions;l=r.hasPointSpecificOptions;var p=i.negativeColor,m=n.lineColor,g=n.fillColor;c=i.turboThreshold;var v;if(i.marker?(a.radius=a.radius||n.radius+a.radiusPlus,a.lineWidth=a.lineWidth||n.lineWidth+a.lineWidthPlus):a.color=a.color||or(a.color||s).brighten(a.brightness).get(),f[""]=r.convertAttribs(n,t),zt(["hover","select"],function(e){f[e]=r.convertAttribs(o[e],f[""])}),r.pointAttr=f,s=d.length,!c||c>s||l)for(;s--;){if(c=d[s],(n=c.options&&c.options.marker||c.options)&&n.enabled===!1&&(n.radius=0),c.negative&&p&&(c.color=c.fillColor=p),l=i.colorByPoint||c.color,c.options)for(v in h)u(n[h[v]])&&(l=!0);l?(n=n||{},l=[],o=n.states||{},t=o.hover=o.hover||{},i.marker||(t.color=t.color||!c.options.color&&a.color||or(c.color).brighten(t.brightness||a.brightness).get()),t={color:c.color},g||(t.fillColor=c.color),m||(t.lineColor=c.color),l[""]=r.convertAttribs(e(t,n),f[""]),l.hover=r.convertAttribs(o.hover,f.hover,l[""]),l.select=r.convertAttribs(o.select,f.select,l[""])):l=f,c.pointAttr=l}},destroy:function(){var e,t,r,i,n,o=this,a=o.chart,s=/AppleWebKit\/533/.test(yt),c=o.data||[];for(Kt(o,"destroy"),Yt(o),zt(o.axisTypes||[],function(e){(n=o[e])&&(l(n.series,o),n.isDirty=n.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),t=c.length;t--;)(r=c[t])&&r.destroy&&r.destroy();o.points=null,clearTimeout(o.animationTimeout),zt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){o[t]&&(e=s&&"group"===t?"hide":"destroy",o[t][e]())}),a.hoverSeries===o&&(a.hoverSeries=null),l(a.series,o);for(i in o)delete o[i]},getSegmentPath:function(e){var t=this,r=[],i=t.options.step;return zt(e,function(n,o){var a,s=n.plotX,c=n.plotY;t.getPointSpline?r.push.apply(r,t.getPointSpline(e,n,o)):(r.push(o?"L":"M"),i&&o&&(a=e[o-1],"right"===i?r.push(a.plotX,c):"center"===i?r.push((a.plotX+s)/2,a.plotY,(a.plotX+s)/2,c):r.push(s,a.plotY)),r.push(n.plotX,n.plotY))}),r},getGraphPath:function(){var e,t=this,r=[],i=[];return zt(t.segments,function(n){e=t.getSegmentPath(n),n.length>1?r=r.concat(e):i.push(n[0])}),t.singlePoints=i,t.graphPath=r},drawGraph:function(){var e=this,t=this.options,r=[["graph",t.lineColor||this.color]],i=t.lineWidth,n=t.dashStyle,o="square"!==t.linecap,a=this.getGraphPath(),s=t.negativeColor;s&&r.push(["graphNeg",s]),zt(r,function(r,s){var c=r[0],l=e[c];l?(er(l),l.animate({d:a})):i&&a.length&&(l={stroke:r[1],"stroke-width":i,fill:Ot,zIndex:1},n?l.dashstyle=n:o&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),e[c]=e.chart.renderer.path(a).attr(l).add(e.group).shadow(!s&&t.shadow))})},clipNeg:function(){var e,t=this.options,r=this.chart,i=r.renderer,n=t.negativeColor||t.negativeFillColor,o=this.graph,a=this.area,s=this.posClip,c=this.negClip;e=r.chartWidth;var l=r.chartHeight,u=ft(e,l),d=this.yAxis;n&&(o||a)&&(n=lt(d.toPixels(t.threshold||0,!0)),0>n&&(u-=n),t={x:0,y:0,width:u,height:n},u={x:0,y:n,width:u,height:u},r.inverted&&(t.height=u.y=r.plotWidth-n,i.isVML&&(t={x:r.plotWidth-n-r.plotLeft,y:0,width:e,height:l},u={x:n+r.plotLeft-e,y:0,width:r.plotLeft+n,height:e})),d.reversed?(r=u,e=t):(r=t,e=u),s?(s.animate(r),c.animate(e)):(this.posClip=s=i.clipRect(r),this.negClip=c=i.clipRect(e),o&&this.graphNeg&&(o.clip(s),this.graphNeg.clip(c)),a&&(a.clip(s),this.areaNeg.clip(c))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};zt(["group","markerGroup"],function(r){t[r]&&t[r].attr(e).invert()})}var t=this,r=t.chart;t.xAxis&&(Vt(r,"resize",e),Vt(t,"destroy",function(){Yt(r,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,r,i,n){var o=this[e],a=!o;return a&&(this[e]=o=this.chart.renderer.g(t).attr({visibility:r,zIndex:i||.1}).add(n)),o[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,r=this.yAxis;return e.inverted&&(t=r,r=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:r?r.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,r=t.chart,i=t.options,n=(e=i.animation)&&!!t.animate&&r.renderer.isSVG&&h(e.duration,500)||0,o=t.visible?"visible":"hidden",a=i.zIndex,s=t.hasRendered,c=r.seriesGroup;e=t.plotGroup("group","series",o,a,c),t.markerGroup=t.plotGroup("markerGroup","markers",o,a,c),n&&t.animate(!0),t.getAttribs(),e.inverted=t.isCartesian?r.inverted:!1,t.drawGraph&&(t.drawGraph(),t.clipNeg()),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),r.inverted&&t.invertGroups(),i.clip!==!1&&!t.sharedClipKey&&!s&&e.clip(r.clipRect),n&&t.animate(),s||(n?t.animationTimeout=setTimeout(function(){t.afterAnimate()},n):t.afterAnimate()),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,r=this.group,i=this.xAxis,n=this.yAxis;r&&(e.inverted&&r.attr({width:e.plotWidth,height:e.plotHeight}),r.animate({translateX:h(i&&i.left,e.plotLeft),translateY:h(n&&n.top,e.plotTop)})),this.translate(),this.setTooltipPoints&&this.setTooltipPoints(!0),this.render(),t&&Kt(this,"updatedData")}},L.prototype={destroy:function(){C(this,this.axis)},render:function(e){var t=this.options,r=t.format,r=r?x(r,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var r=this.axis,i=r.chart,n=i.inverted,o=this.isNegative,a=r.translate(r.usePercentage?100:this.total,0,0,0,1),r=r.translate(0),r=pt(a-r),s=i.xAxis[0].translate(this.x)+e,c=i.plotHeight,o={x:n?o?a:a-r:s,y:n?c-s-t:o?c-a-r:c-a,width:n?r:t,height:n?t:r};(n=this.label)&&(n.align(this.alignOptions,null,o),o=n.alignAttr,n[this.options.crop===!1||i.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},N.prototype.buildStacks=function(){var e=this.series,t=h(this.options.reversedStacks,!0),r=e.length;if(!this.isXAxis){for(this.usePercentage=!1;r--;)e[t?r:e.length-r-1].setStackedPoints();if(this.usePercentage)for(r=0;e.length>r;r++)e[r].setPercentStacks()}},N.prototype.renderStackTotals=function(){var e,t,r=this.chart,i=r.renderer,n=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(r.plotLeft,r.plotTop);for(e in n)for(t in r=n[e])r[t].render(o)},yr.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,r,i,n,o,a=this.processedXData,s=this.processedYData,c=[],l=s.length,u=this.options,d=u.threshold,f=u.stack,u=u.stacking,h=this.stackKey,p="-"+h,m=this.negStacks,g=this.yAxis,v=g.stacks,b=g.oldStacks;for(i=0;l>i;i++)n=a[i],o=s[i],r=this.index+","+i,t=(e=m&&d>o)?p:h,v[t]||(v[t]={}),v[t][n]||(b[t]&&b[t][n]?(v[t][n]=b[t][n],v[t][n].total=null):v[t][n]=new L(g,g.options.stackLabels,e,n,f)),t=v[t][n],t.points[r]=[t.cum||0],"percent"===u?(e=e?h:p,m&&v[e]&&v[e][n]?(e=v[e][n],t.total=e.total=ft(e.total,t.total)+pt(o)||0):t.total=q(t.total+(pt(o)||0))):t.total=q(t.total+(o||0)),t.cum=(t.cum||0)+(o||0),t.points[r].push(t.cum),c[i]=t.cum;"percent"===u&&(g.usePercentage=!0),this.stackedYData=c,g.oldStacks={}}},yr.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,r=e.yAxis.stacks,i=e.processedXData;zt([t,"-"+t],function(t){for(var n,o,a,s=i.length;s--;)o=i[s],n=(a=r[t]&&r[t][o])&&a.points[e.index+","+s],(o=n)&&(a=a.total?100/a.total:0,o[0]=q(o[0]*a),o[1]=q(o[1]*a),e.stackedYData[s]=o[1])})},e(D.prototype,{addSeries:function(e,t,r){var i,n=this;return e&&(t=h(t,!0),Kt(n,"addSeries",{options:e},function(){i=n.initSeries(e),n.isDirtyLegend=!0,n.linkSeries(),t&&n.redraw(r)})),i},addAxis:function(e,r,i,n){var o=r?"xAxis":"yAxis",a=this.options;new N(this,t(e,{index:this[o].length,isX:r})),a[o]=f(a[o]||{}),a[o].push(e),h(i,!0)&&this.redraw(n)},showLoading:function(t){var r=this,i=r.options,n=r.loadingDiv,o=i.loading,a=function(){n&&p(n,{left:r.plotLeft+"px",top:r.plotTop+"px",width:r.plotWidth+"px",height:r.plotHeight+"px"})};n||(r.loadingDiv=n=m(Lt,{className:"highcharts-loading"},e(o.style,{zIndex:10,display:Ot}),r.container),r.loadingSpan=m("span",null,o.labelStyle,n),Vt(r,"redraw",a)),r.loadingSpan.innerHTML=t||i.lang.loading,r.loadingShown||(p(n,{opacity:0,display:""}),Zt(n,{opacity:o.style.opacity},{duration:o.showDuration||0}),r.loadingShown=!0),a()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&Zt(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){p(t,{display:Ot})}}),this.loadingShown=!1}}),e(br.prototype,{update:function(e,t,r){var i,o=this,a=o.series,s=o.graphic,c=a.data,l=a.chart,u=a.options,t=h(t,!0);o.firePointEvent("update",{options:e},function(){o.applyOptions(e),n(e)&&(a.getAttribs(),s&&(e&&e.marker&&e.marker.symbol?o.graphic=s.destroy():s.attr(o.pointAttr[o.state||""])),e&&e.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy())),i=Ft(o,c),a.updateParallelArrays(o,i),u.data[i]=o.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===u.legendType&&l.legend.destroyItem(o),t&&l.redraw(r)})},remove:function(e,t){var r,i=this,n=i.series,o=n.points,a=n.chart,s=n.data;E(t,a),e=h(e,!0),i.firePointEvent("remove",null,function(){r=Ft(i,s),s.length===o.length&&o.splice(r,1),s.splice(r,1),n.options.data.splice(r,1),n.updateParallelArrays(i,"splice",r,1),i.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()})}}),e(yr.prototype,{addPoint:function(e,t,r,i){var n,o=this.options,a=this.data,s=this.graph,c=this.area,l=this.chart,u=this.xAxis&&this.xAxis.names,d=s&&s.shift||0,f=o.data,p=this.xData;if(E(i,l),r&&zt([s,c,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=d+1)}),c&&(c.isArea=!0),t=h(t,!0),i={series:this},this.pointClass.prototype.applyOptions.apply(i,[e]),s=i.x,c=p.length,this.requireSorting&&p[c-1]>s)for(n=!0;c&&p[c-1]>s;)c--;this.updateParallelArrays(i,"splice",c,0,0),this.updateParallelArrays(i,c),u&&(u[s]=i.name),f.splice(c,0,e),n&&(this.data.splice(c,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),r&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),this.updateParallelArrays(i,"shift"),f.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),l.redraw())},remove:function(e,t){var r=this,i=r.chart,e=h(e,!0);r.isRemoving||(r.isRemoving=!0,Kt(r,"remove",null,function(){r.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),e&&i.redraw(t)})),r.isRemoving=!1},update:function(r,i){var n,o=this,a=this.chart,s=this.userOptions,c=this.type,l=Bt[c].prototype,u=["group","markerGroup","dataLabelsGroup"];zt(u,function(e){u[e]=o[e],delete o[e]}),r=t(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},r),this.remove(!1);for(n in l)l.hasOwnProperty(n)&&(this[n]=O);e(this,Bt[r.type||c].prototype),zt(u,function(e){o[e]=u[e]}),this.init(a,r),a.linkSeries(),h(i,!0)&&a.redraw(!1)}}),e(N.prototype,{update:function(r,i){var n=this.chart,r=n.options[this.coll][this.options.index]=t(this.userOptions,r);this.destroy(!0),this._addedPlotLB=O,this.init(n,e(r,{events:O})),n.isDirtyBox=!0,h(i,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,r=this.coll,i=this.series,n=i.length;n--;)i[n]&&i[n].remove(!1);l(t.axes,this),l(t[r],this),t.options[r].splice(this.options.index,1),zt(t[r],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,h(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}}),cr=g(yr),Bt.line=cr,tr.area=t(It,{threshold:0});var xr=g(yr,{type:"area",getSegments:function(){var e,t,r,i,n=this,o=[],a=[],s=[],c=this.xAxis,l=this.yAxis,u=l.stacks[this.stackKey],d={},f=this.points,h=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(r=0;f.length>r;r++)d[f[r].x]=f[r];for(i in u)null!==u[i].total&&s.push(+i);s.sort(function(e,t){return e-t}),zt(s,function(i){var o,s=0;
if(!h||d[i]&&null!==d[i].y)if(d[i])a.push(d[i]);else{for(r=n.index;l.series.length>=r;r++)if(o=u[i].points[r+","+i]){s=o[1];break}e=c.translate(i),t=l.toPixels(s,!0),a.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:At})}}),a.length&&o.push(a)}else yr.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(e){var t,r=yr.prototype.getSegmentPath.call(this,e),i=[].concat(r),n=this.options;t=r.length;var o,a=this.yAxis.getThreshold(n.threshold);if(3===t&&i.push("L",r[1],r[2]),n.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)o=h(e[t].yBottom,a),e.length-1>t&&n.step&&i.push(e[t+1].plotX,o),i.push(e[t].plotX,o);else this.closeSegment(i,e,a);return this.areaPath=this.areaPath.concat(i),r},closeSegment:function(e,t,r){e.push("L",t[t.length-1].plotX,r,"L",t[0].plotX,r)},drawGraph:function(){this.areaPath=[],yr.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,r=this.options,i=r.negativeColor,n=r.negativeFillColor,o=[["area",this.color,r.fillColor]];(i||n)&&o.push(["areaNeg",i,n]),zt(o,function(i){var n=i[0],o=e[n];o?o.animate({d:t}):e[n]=e.chart.renderer.path(t).attr({fill:h(i[2],or(i[1]).setOpacity(h(r.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Ut.drawRectangle});Bt.area=xr,tr.spline=t(It),cr=g(yr,{type:"spline",getPointSpline:function(e,t,r){var i,n,o,a,s=t.plotX,c=t.plotY,l=e[r-1],u=e[r+1];if(l&&u){e=l.plotY,o=u.plotX;var d,u=u.plotY;i=(1.5*s+l.plotX)/2.5,n=(1.5*c+e)/2.5,o=(1.5*s+o)/2.5,a=(1.5*c+u)/2.5,d=(a-n)*(o-s)/(o-i)+c-a,n+=d,a+=d,n>e&&n>c?(n=ft(e,c),a=2*c-n):e>n&&c>n&&(n=ht(e,c),a=2*c-n),a>u&&a>c?(a=ft(u,c),n=2*c-a):u>a&&c>a&&(a=ht(u,c),n=2*c-a),t.rightContX=o,t.rightContY=a}return r?(t=["C",l.rightContX||l.plotX,l.rightContY||l.plotY,i||s,n||c,s,c],l.rightContX=l.rightContY=null):t=["M",s,c],t}}),Bt.spline=cr,tr.areaspline=t(tr.area),xr=xr.prototype,cr=g(cr,{type:"areaspline",closedStacks:!0,getSegmentPath:xr.getSegmentPath,closeSegment:xr.closeSegment,drawGraph:xr.drawGraph,drawLegendSymbol:Ut.drawRectangle}),Bt.areaspline=cr,tr.column=t(It,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),cr=g(yr,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){yr.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&zt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,r=this,i=r.options,n=r.xAxis,o=r.yAxis,a=n.reversed,s={},c=0;i.grouping===!1?c=1:zt(r.chart.series,function(i){var n=i.options,a=i.yAxis;i.type===r.type&&i.visible&&o.len===a.len&&o.pos===a.pos&&(n.stacking?(e=i.stackKey,s[e]===O&&(s[e]=c++),t=s[e]):n.grouping!==!1&&(t=c++),i.columnIndex=t)});var n=ht(pt(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),l=n*i.groupPadding,d=(n-2*l)/c,f=i.pointWidth,i=u(f)?(d-f)/2:d*i.pointPadding,f=h(f,d-2*i);return r.columnMetrics={width:f,offset:i+(l+((a?c-(r.columnIndex||0):r.columnIndex)||0)*d-n/2)*(a?-1:1)}},translate:function(){var e=this,t=e.chart,r=e.options,i=e.borderWidth=h(r.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),n=e.yAxis,o=e.translatedThreshold=n.getThreshold(r.threshold),a=h(r.minPointLength,5),s=e.getColumnMetrics(),c=s.width,l=e.barW=ft(c,1+2*i),u=e.pointXOffset=s.offset,d=-(i%2?.5:0),f=i%2?.5:1;t.renderer.isVML&&t.inverted&&(f+=1),r.pointPadding&&(l=dt(l)),yr.prototype.translate.apply(e),zt(e.points,function(r){var i,s=h(r.yBottom,o),p=ht(ft(-999-s,r.plotY),n.len+999+s),m=r.plotX+u,g=l,v=ht(p,s);i=ft(p,s)-v,a>pt(i)&&a&&(i=a,v=lt(pt(v-o)>a?s-a:o-(o>=n.translate(r.y,0,1,0,1)?a:0))),r.barX=m,r.pointWidth=c,r.tooltipPos=t.inverted?[n.len-p,e.xAxis.len-m-g/2]:[m+g/2,p],g=lt(m+g)+d,m=lt(m)+d,g-=m,s=.5>pt(v),i=lt(v+i)+f,v=lt(v)+f,i-=v,s&&(v-=1,i+=1),r.shapeType="rect",r.shapeArgs={x:m,y:v,width:g,height:i}})},getSymbol:At,drawLegendSymbol:Ut.drawRectangle,drawGraph:At,drawPoints:function(){var e,r,i=this,n=this.chart,o=i.options,a=n.renderer,s=o.animationLimit||250;zt(i.points,function(c){var l=c.plotY,d=c.graphic;l===O||isNaN(l)||null===c.y?d&&(c.graphic=d.destroy()):(e=c.shapeArgs,l=u(i.borderWidth)?{"stroke-width":i.borderWidth}:{},r=c.pointAttr[c.selected?"select":""]||i.pointAttr[""],d?(er(d),d.attr(l)[s>n.pointCount?"animate":"attr"](t(e))):c.graphic=a[c.shapeType](e).attr(r).attr(l).add(i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))})},animate:function(e){var t=this.yAxis,r=this.options,i=this.chart.inverted,n={};Tt&&(e?(n.scaleY=.001,e=ht(t.pos+t.len,ft(t.pos,t.toPixels(r.threshold))),i?n.translateX=e-t.len:n.translateY=e,this.group.attr(n)):(n.scaleY=1,n[i?"translateX":"translateY"]=t.pos,this.group.animate(n,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&zt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),yr.prototype.remove.apply(e,arguments)}}),Bt.column=cr,tr.bar=t(tr.column),xr=g(cr,{type:"bar",inverted:!0}),Bt.bar=xr,tr.scatter=t(It,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1}),xr=g(yr,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&yr.prototype.drawGraph.call(this)}}),Bt.scatter=xr,tr.pie=t(It,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),It={type:"pie",isCartesian:!1,pointClass:g(br,{init:function(){br.prototype.init.apply(this,arguments);var t,r=this;return 0>r.y&&(r.y=null),e(r,{visible:r.visible!==!1,name:h(r.name,"Slice")}),t=function(e){r.slice("select"===e.type)},Vt(r,"select",t),Vt(r,"unselect",t),r},setVisible:function(e){var t=this,r=t.series,i=r.chart;t.visible=t.options.visible=e=e===O?!t.visible:e,r.options.data[Ft(t,r.data)]=t.options,zt(["graphic","dataLabel","connector","shadowGroup"],function(r){t[r]&&t[r][e?"show":"hide"](!0)}),t.legendItem&&i.legend.colorizeItem(t,e),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,i.redraw())},slice:function(e,t,r){var i=this.series;E(r,i.chart),h(t,!0),this.sliced=this.options.sliced=e=u(e)?e:!this.sliced,i.options.data[Ft(this,i.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,r=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(r.plotLeft+t.x,r.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:At,animate:function(e){var t=this,r=t.points,i=t.startAngleRad;e||(zt(r,function(e){var r=e.graphic,e=e.shapeArgs;r&&(r.attr({r:t.center[3]/2,start:i,end:i}),r.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t,r,i){yr.prototype.setData.call(this,e,!1,r,i),this.processData(),this.generatePoints(),h(t,!0)&&this.chart.redraw(r)},generatePoints:function(){var e,t,r,i,n=0,o=this.options.ignoreHiddenPoint;for(yr.prototype.generatePoints.call(this),t=this.points,r=t.length,e=0;r>e;e++)i=t[e],n+=o&&!i.visible?0:i.y;for(this.total=n,e=0;r>e;e++)i=t[e],i.percentage=n>0?100*(i.y/n):0,i.total=n},translate:function(e){this.generatePoints();var t,r,i,n,o,a=0,s=this.options,c=s.slicedOffset,l=c+s.borderWidth,u=s.startAngle||0,d=this.startAngleRad=vt/180*(u-90),u=(this.endAngleRad=vt/180*(h(s.endAngle,u+360)-90))-d,f=this.points,p=s.dataLabels.distance,s=s.ignoreHiddenPoint,m=f.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,r){return i=ct.asin(ht((t-e[1])/(e[2]/2+p),1)),e[0]+(r?-1:1)*mt(i)*(e[2]/2+p)},n=0;m>n;n++)o=f[n],t=d+a*u,(!s||o.visible)&&(a+=o.percentage/100),r=d+a*u,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:lt(1e3*t)/1e3,end:lt(1e3*r)/1e3},i=(r+t)/2,i>1.5*vt?i-=2*vt:-vt/2>i&&(i+=2*vt),o.slicedTranslation={translateX:lt(mt(i)*c),translateY:lt(gt(i)*c)},t=mt(i)*e[2]/2,r=gt(i)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*r],o.half=-vt/2>i||i>vt/2?1:0,o.angle=i,l=ht(l,p/2),o.labelPos=[e[0]+t+mt(i)*p,e[1]+r+gt(i)*p,e[0]+t+mt(i)*l,e[1]+r+gt(i)*l,e[0]+t,e[1]+r,0>p?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,r,i,n,o=this,a=o.chart.renderer,s=o.options.shadow;s&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),zt(o.points,function(c){r=c.graphic,n=c.shapeArgs,i=c.shadowGroup,s&&!i&&(i=c.shadowGroup=a.g("shadow").add(o.shadowGroup)),t=c.sliced?c.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),r?r.animate(e(n,t)):c.graphic=r=a[c.shapeType](n).setRadialReference(o.center).attr(c.pointAttr[c.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(o.group).shadow(s,i),void 0!==c.visible&&c.setVisible(c.visible)})},sortByAngle:function(e,t){e.sort(function(e,r){return void 0!==e.angle&&(r.angle-e.angle)*t})},drawLegendSymbol:Ut.drawRectangle,getCenter:sr.getCenter,getSymbol:At},It=g(yr,It),Bt.pie=It,yr.prototype.drawDataLabels=function(){var r,i,n,o,a=this,s=a.options,c=s.cursor,l=s.dataLabels,d=a.points;(l.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(l),o=a.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),!a.hasRendered&&h(l.defer,!0)&&(o.attr({opacity:0}),Vt(a,"afterAnimate",function(){a.visible&&o.show(),o[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=l,zt(d,function(s){var d,f,p,m=s.dataLabel,g=s.connector,v=!0;if(r=s.options&&s.options.dataLabels,d=h(r&&r.enabled,i.enabled),m&&!d)s.dataLabel=m.destroy();else if(d){if(l=t(i,r),d=l.rotation,f=s.getLabelConfig(),n=l.format?x(l.format,f):l.formatter.call(f,l),l.style.color=h(l.color,l.style.color,a.color,"black"),m)u(n)?(m.attr({text:n}),v=!1):(s.dataLabel=m=m.destroy(),g&&(s.connector=g.destroy()));else if(u(n)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:d,padding:l.padding,zIndex:1};for(p in m)m[p]===O&&delete m[p];m=s.dataLabel=a.chart.renderer[d?"text":"label"](n,0,-999,null,null,null,l.useHTML).attr(m).css(e(l.style,c&&{cursor:c})).add(o).shadow(l.shadow)}m&&a.alignDataLabel(s,m,l,null,v)}}))},yr.prototype.alignDataLabel=function(t,r,i,n,o){var a=this.chart,s=a.inverted,c=h(t.plotX,-999),l=h(t.plotY,-999),u=r.getBBox();(t=this.visible&&(t.series.forceDL||a.isInsidePlot(c,lt(l),s)||n&&a.isInsidePlot(c,s?n.x+1:n.y+n.height-1,s)))&&(n=e({x:s?a.plotWidth-l:c,y:lt(s?a.plotHeight-c:l),width:0,height:0},n),e(i,{width:u.width,height:u.height}),i.rotation?r[o?"attr":"animate"]({x:n.x+i.x+n.width/2,y:n.y+i.y+n.height/2}).attr({align:i.align}):(r.align(i,null,n),s=r.alignAttr,"justify"===h(i.overflow,"justify")?this.justifyDataLabel(r,i,s,u,n,o):h(i.crop,!0)&&(t=a.isInsidePlot(s.x,s.y)&&a.isInsidePlot(s.x+u.width,s.y+u.height)))),t||(r.attr({y:-999}),r.placed=!1)},yr.prototype.justifyDataLabel=function(e,t,r,i,n,o){var a,s,c=this.chart,l=t.align,u=t.verticalAlign;a=r.x,0>a&&("right"===l?t.align="left":t.x=-a,s=!0),a=r.x+i.width,a>c.plotWidth&&("left"===l?t.align="right":t.x=c.plotWidth-a,s=!0),a=r.y,0>a&&("bottom"===u?t.verticalAlign="top":t.y=-a,s=!0),a=r.y+i.height,a>c.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=c.plotHeight-a,s=!0),s&&(e.placed=!o,e.align(t,null,n))},Bt.pie&&(Bt.pie.prototype.drawDataLabels=function(){var e,t,r,i,n,o,a,s,c,l,u,d=this,f=d.data,p=d.chart,m=d.options.dataLabels,g=h(m.connectorPadding,10),v=h(m.connectorWidth,1),b=p.plotWidth,y=p.plotHeight,x=h(m.softConnector,!0),w=m.distance,k=d.center,S=k[2]/2,R=k[1],C=w>0,T=[[],[]],q=[0,0,0,0],E=function(e,t){return t.y-e.y};if(d.visible&&(m.enabled||d._hasPointLabels)){for(yr.prototype.drawDataLabels.apply(d),zt(f,function(e){e.dataLabel&&e.visible&&T[e.half].push(e)}),l=2;l--;){var $,_=[],A=[],N=T[l],D=N.length;if(D){for(d.sortByAngle(N,l-.5),u=f=0;!f&&N[u];)f=N[u]&&N[u].dataLabel&&(N[u].dataLabel.getBBox().height||21),u++;if(w>0){for(n=ht(R+S+w,p.plotHeight),u=ft(0,R-S-w);n>=u;u+=f)_.push(u);if(n=_.length,D>n){for(e=[].concat(N),e.sort(E),u=D;u--;)e[u].rank=u;for(u=D;u--;)N[u].rank>=n&&N.splice(u,1);D=N.length}for(u=0;D>u;u++){e=N[u],o=e.labelPos,e=9999;var L,O;for(O=0;n>O;O++)L=pt(_[O]-o[1]),e>L&&(e=L,$=O);if(u>$&&null!==_[u])$=u;else for(D-u+$>n&&null!==_[u]&&($=n-D+u);null===_[$];)$++;A.push({i:$,y:_[$]}),_[$]=null}A.sort(E)}for(u=0;D>u;u++)e=N[u],o=e.labelPos,i=e.dataLabel,c=e.visible===!1?"hidden":"visible",e=o[1],w>0?(n=A.pop(),$=n.i,s=n.y,(e>s&&null!==_[$+1]||s>e&&null!==_[$-1])&&(s=ht(ft(0,e),p.plotHeight))):s=e,a=m.justify?k[0]+(l?-1:1)*(S+w):d.getX(s===R-S-w||s===R+S+w?e:s,l),i._attr={visibility:c,align:o[6]},i._pos={x:a+m.x+({left:g,right:-g}[o[6]]||0),y:s+m.y-10},i.connX=a,i.connY=s,null===this.options.size&&(n=i.width,g>a-n?q[3]=ft(lt(n-a+g),q[3]):a+n>b-g&&(q[1]=ft(lt(a+n-b+g),q[1])),0>s-f/2?q[0]=ft(lt(-s+f/2),q[0]):s+f/2>y&&(q[2]=ft(lt(s+f/2-y),q[2])))}}(0===P(q)||this.verifyDataLabelOverflow(q))&&(this.placeDataLabels(),C&&v&&zt(this.points,function(e){t=e.connector,o=e.labelPos,(i=e.dataLabel)&&i._pos?(c=i._attr.visibility,a=i.connX,s=i.connY,r=x?["M",a+("left"===o[6]?5:-5),s,"C",a,s,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+("left"===o[6]?5:-5),s,"L",o[2],o[3],"L",o[4],o[5]],t?(t.animate({d:r}),t.attr("visibility",c)):e.connector=t=d.chart.renderer.path(r).attr({"stroke-width":v,stroke:m.connectorColor||e.color||"#606060",visibility:c}).add(d.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},Bt.pie.prototype.placeDataLabels=function(){zt(this.points,function(e){var t,e=e.dataLabel;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},Bt.pie.prototype.alignDataLabel=At,Bt.pie.prototype.verifyDataLabelOverflow=function(e){var t,r=this.center,i=this.options,n=i.center,o=i=i.minSize||80;return null!==n[0]?o=ft(r[2]-ft(e[1],e[3]),i):(o=ft(r[2]-e[1]-e[3],i),r[0]+=(e[3]-e[1])/2),null!==n[1]?o=ft(ht(o,r[2]-ft(e[0],e[2])),i):(o=ft(ht(o,r[2]-e[0]-e[2]),i),r[1]+=(e[0]-e[2])/2),r[2]>o?(r[2]=o,this.translate(r),zt(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),Bt.column&&(Bt.column.prototype.alignDataLabel=function(e,r,i,n,o){var a=this.chart,s=a.inverted,c=e.dlBox||e.shapeArgs,l=e.below||e.plotY>h(this.translatedThreshold,a.plotSizeY),u=h(i.inside,!!this.options.stacking);c&&(n=t(c),s&&(n={x:a.plotWidth-n.y-n.height,y:a.plotHeight-n.x-n.width,width:n.height,height:n.width}),!u)&&(s?(n.x+=l?0:n.width,n.width=0):(n.y+=l?n.height:0,n.height=0)),i.align=h(i.align,!s||u?"center":l?"right":"left"),i.verticalAlign=h(i.verticalAlign,s||u?"middle":l?"top":"bottom"),yr.prototype.alignDataLabel.call(this,e,r,i,n,o)}),It=ot.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,r=t.pointer,i=e.options.cursor,n=i&&{cursor:i},o=function(r){var i,n=r.target;for(t.hoverSeries!==e&&e.onMouseOver();n&&!i;)i=n.point,n=n.parentNode;i!==O&&i!==t.hoverPoint&&i.onMouseOver(r)};zt(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(zt(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(n),M)&&e[t].on("touchstart",o)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,r=t.options,i=r.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),o=n.length,a=t.chart,s=a.pointer,c=a.renderer,l=a.options.tooltip.snap,u=t.tracker,d=r.cursor,f=d&&{cursor:d},d=t.singlePoints,h=function(){a.hoverSeries!==t&&t.onMouseOver()},p="rgba(192,192,192,"+(Tt?1e-4:.002)+")";if(o&&!i)for(e=o+1;e--;)"M"===n[e]&&n.splice(e+1,0,n[e+1]-l,n[e+2],"L"),(e&&"M"===n[e]||e===o)&&n.splice(e,0,"L",n[e-2]+l,n[e-1]);for(e=0;d.length>e;e++)o=d[e],n.push("M",o.plotX-l,o.plotY,"L",o.plotX+l,o.plotY);u?u.attr({d:n}):(t.tracker=c.path(n).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:p,fill:i?p:Ot,"stroke-width":r.lineWidth+(i?0:2*l),zIndex:2}).add(t.group),zt([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",function(e){s.onTrackerMouseOut(e)}).css(f),M&&e.on("touchstart",h)}))}},Bt.column&&(cr.prototype.drawTracker=It.drawTrackerPoint),Bt.pie&&(Bt.pie.prototype.drawTracker=It.drawTrackerPoint),Bt.scatter&&(xr.prototype.drawTracker=It.drawTrackerPoint),e(vr.prototype,{setItemEvents:function(e,t,r,i,n){var o=this;(r?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(o.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?i:n),e.setState()}).on("click",function(t){var r=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,r):Kt(e,"legendItemClick",t,r)})},createCheckboxForItem:function(e){e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Vt(e.checkbox,"click",function(t){Kt(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})}}),I.legend.itemStyle.cursor="pointer",e(D.prototype,{showResetZoom:function(){var e=this,t=I.lang,r=e.options.chart.resetZoomButton,i=r.theme,n=i.states,o="chart"===r.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,n&&n.hover).attr({align:r.position.align,title:t.resetZoomTitle}).add().align(r.position,!1,o)},zoomOut:function(){var e=this;Kt(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,r,i=this.pointer,o=!1;!e||e.resetSelection?zt(this.axes,function(e){t=e.zoom()}):zt(e.xAxis.concat(e.yAxis),function(e){var r=e.axis,n=r.isXAxis;(i[n?"zoomX":"zoomY"]||i[n?"pinchX":"pinchY"])&&(t=r.zoom(e.min,e.max),r.displayBtn&&(o=!0))}),r=this.resetZoomButton,o&&!r?this.showResetZoom():!o&&n(r)&&(this.resetZoomButton=r.destroy()),t&&this.redraw(h(this.options.chart.animation,e&&e.animation,100>this.pointCount))},pan:function(e,t){var r,i=this,n=i.hoverPoints;n&&zt(n,function(e){e.setState()}),zt("xy"===t?[1,0]:[1],function(t){var n=e[t?"chartX":"chartY"],o=i[t?"xAxis":"yAxis"][0],a=i[t?"mouseDownX":"mouseDownY"],s=(o.pointRange||0)/2,c=o.getExtremes(),l=o.toValue(a-n,!0)+s,a=o.toValue(a+i[t?"plotWidth":"plotHeight"]-n,!0)-s;o.series.length&&l>ht(c.dataMin,c.min)&&ft(c.dataMax,c.max)>a&&(o.setExtremes(l,a,!1,!1,{trigger:"pan"}),r=!0),i[t?"mouseDownX":"mouseDownY"]=n}),r&&i.redraw(!1),p(i.container,{cursor:"move"})}}),e(br.prototype,{select:function(e,t){var r=this,i=r.series,n=i.chart,e=h(e,!r.selected);r.firePointEvent(e?"select":"unselect",{accumulate:t},function(){r.selected=r.options.selected=e,i.options.data[Ft(r,i.data)]=r.options,r.setState(e&&"select"),t||zt(n.getSelectedPoints(),function(e){e.selected&&e!==r&&(e.selected=e.options.selected=!1,i.options.data[Ft(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,r=t.chart,i=r.tooltip,n=r.hoverPoint;n&&n!==this&&n.onMouseOut(),this.firePointEvent("mouseOver"),i&&(!i.shared||t.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),r.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==Ft(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,r=t(this.series.options.point,this.options).events;this.events=r;for(e in r)Vt(this,e,r[e]);this.hasImportedEvents=!0}},setState:function(r,i){var n,o=this.plotX,a=this.plotY,s=this.series,c=s.options.states,l=tr[s.type].marker&&s.options.marker,u=l&&!l.enabled,d=l&&l.states[r],f=d&&d.enabled===!1,h=s.stateMarkerGraphic,p=this.marker||{},m=s.chart,g=s.halo,r=r||"";n=this.pointAttr[r]||s.pointAttr[r],r===this.state&&!i||this.selected&&"select"!==r||c[r]&&c[r].enabled===!1||r&&(f||u&&d.enabled===!1)||r&&p.states&&p.states[r]&&p.states[r].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(t(n,l?{x:o-l,y:a-l,width:2*l,height:2*l}:{})),h&&h.hide()):(r&&d&&(l=d.radius,p=p.symbol||s.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h?h[i?"animate":"attr"]({x:o-l,y:a-l}):p&&(s.stateMarkerGraphic=h=m.renderer.symbol(p,o-l,a-l,2*l,2*l).attr(n).add(s.markerGroup),h.currentSymbol=p)),h&&h[r&&m.isInsidePlot(o,a,m.inverted)?"show":"hide"]()),(o=c[r]&&c[r].halo)&&o.size?(g||(s.halo=g=m.renderer.path().add(s.seriesGroup)),g.attr(e({fill:or(this.color||s.color).setOpacity(o.opacity).get()},o.attributes))[i?"animate":"attr"]({d:this.haloPath(o.size)})):g&&g.attr({d:[]}),this.state=r)},haloPath:function(e){var t=this.series,r=t.chart,i=t.getPlotBox(),n=r.inverted;return r.renderer.symbols.circle(i.translateX+(n?t.yAxis.len-this.plotY:this.plotX)-e,i.translateY+(n?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}}),e(yr.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Kt(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,r=t.tooltip,i=t.hoverPoint;i&&i.onMouseOut(),this&&e.events.mouseOut&&Kt(this,"mouseOut"),r&&!e.stickyTracking&&(!r.shared||this.noSharedTooltip)&&r.hide(),this.setState(),t.hoverSeries=null},setState:function(e){var t=this.options,r=this.graph,i=this.graphNeg,n=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,n[e]&&n[e].enabled===!1||(e&&(t=n[e].lineWidth||t+(n[e].lineWidthPlus||0)),r&&!r.dashstyle&&(e={"stroke-width":t},r.attr(e),i&&i.attr(e))))},setVisible:function(e,t){var r,i=this,n=i.chart,o=i.legendItem,a=n.options.chart.ignoreHiddenSeries,s=i.visible;r=(i.visible=e=i.userOptions.visible=e===O?!s:e)?"show":"hide",zt(["group","dataLabelsGroup","markerGroup","tracker"],function(e){i[e]&&i[e][r]()}),n.hoverSeries===i&&i.onMouseOut(),o&&n.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&zt(n.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),zt(i.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(n.isDirtyBox=!0),t!==!1&&n.redraw(),Kt(i,r)},setTooltipPoints:function(e){var t,r,i,n,o=[],a=this.xAxis,s=a&&a.getExtremes(),c=a?a.tooltipLen||a.len:this.chart.plotSizeX,l=[];if(this.options.enableMouseTracking!==!1&&!this.singularTooltips){for(e&&(this.tooltipPoints=null),zt(this.segments||this.points,function(e){o=o.concat(e)}),a&&a.reversed&&(o=o.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(o),e=o.length,n=0;e>n;n++)if(a=o[n],t=a.x,t>=s.min&&s.max>=t)for(i=o[n+1],t=r===O?0:r+1,r=o[n+1]?ht(ft(0,ut((a.clientX+(i?i.wrappedClientX||i.clientX:c))/2)),c):c;t>=0&&r>=t;)l[t++]=a;this.tooltipPoints=l}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===O?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Kt(this,e?"select":"unselect")},drawTracker:It.drawTrackerGraph}),e(ot,{Axis:N,Chart:D,Color:or,Point:br,Tick:A,Renderer:j,Series:yr,SVGElement:_,SVGRenderer:ar,arrayMin:R,arrayMax:P,charts:Nt,dateFormat:U,format:x,pathAnim:W,getOptions:function(){return I},hasBidiBug:qt,isTouchDevice:Pt,numberFormat:v,seriesTypes:Bt,setOptions:function(e){return I=t(!0,I,e),$(),I},addEvent:Vt,removeEvent:Yt,createElement:m,discardElement:T,css:p,each:zt,extend:e,map:Xt,merge:t,pick:h,splat:f,extendClass:g,pInt:r,wrap:y,svg:Tt,canvas:Et,vml:!Tt&&!Et,product:"Highcharts",version:"4.0.3"})})()});