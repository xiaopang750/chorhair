/*! company 罗格斯达 version 1.0.0 2015-06-17 */
define("api/webview",["../lib/ooClass/class","./ui","./pageStorage"],function(t){var n=t("../lib/ooClass/class"),e=t("./ui"),i=new e,o=t("./pageStorage"),a=n.create({initialize:function(t){t=t||{},this.ani=t.as||"slide-in-right",this.time=t.at||"200",this.preate=t.preate||{},this._openw=t._openw||null},show:function(t,n,e,i){t.show(n,e,i)},hide:function(t,n,e,i){t.hide(n,e,i)},close:function(t,n,e,i){t.hide(n,e,i)},nowView:function(){return plus.webview.currentWebview()},getView:function(t){return plus.webview.getWebviewById(t)},create:function(t){return t=t||{},t.url=t.url||"",t.styles=t.styles||{scrollIndicator:"none",scalable:!1,popGesture:"hide"},t.otherData=t.otherData||{},o.add(t.url),t.url?plus.webview.create(t.url,t.url,t.styles,t.otherData):(console.log("未传入webview地址"),void 0)},onLoaded:function(t,n){t.addEventListener("loaded",function(){n&&n()})},onClose:function(t,n){t.addEventListener("close",function(){n&&n()})},viewShow:function(t,n){t.show(this.ani,this.time,n)},preateWebivew:function(t){var n=this;if(!this.preate[t]){var e=this.create({url:t});this.preate[t]=e,this.onClose(e,function(){n._openw=null,n.preate[t]&&(n.preate[t]=null)})}},loc:function(t){var n=this;this._openw||(this._openw=this.preate[t],this._openw?this._openw.showded?this._openw.viewShow():(this._openw.viewShow(),this._openw.showded=!0):(oLoading.show(),this._openw=this.create({url:t,otherData:{preate:!0}}),this.preate[t]=this._openw,this.onLoaded(this._openw,function(){oLoading.hide(),n.viewShow(n._openw),n._openw.showded=!0,n._openw=null}),this.onClose(this._openw,function(){n._openw=null,n.preate[t]&&(n.preate[t]=null)})))},toPage:function(t){var n,e;-1==t.indexOf("http://")?(t="http://"+window.location.host+t,e=!1):(plus.key.removeEventListener("backbutton",deviceQuit),e=!0),-1!=t.indexOf("?")?(t=t.split("?")[0],n=!0):n=!1,o.judgeSame(t,function(){i.uiLoading.show();var n=r.create({url:t});r.onLoaded(n,function(){r.viewShow(n),n.appendJsFile("_www/deji.js"),i.uiLoading.hide(),e&&otherPageBack(t)})},function(o){e&&otherPageBack(t);var a=r.getView(o);a.reload(!0),n?(i.uiLoading.show(),r.onLoaded(a,function(){r.viewShow(a),i.uiLoading.hide()})):r.viewShow(a)})}}),r=new a;return r}),define("lib/ooClass/class",[],function(t,n,e){function i(t){return this instanceof i||!p(t)?void 0:a(t)}function o(t){var n,e;for(n in t)e=t[n],i.Mutators.hasOwnProperty(n)?i.Mutators[n].call(this,e):this.prototype[n]=e}function a(t){return t.extend=i.extend,t.implement=o,t}function r(){}function s(t,n,e){for(var i in n)if(n.hasOwnProperty(i)){if(e&&-1===f(e,i))continue;"prototype"!==i&&(t[i]=n[i])}}i.create=function(t,n){function e(){t.apply(this,arguments),this.constructor===e&&this.initialize&&this.initialize.apply(this,arguments)}return p(t)||(n=t,t=null),n||(n={}),t||(t=n.Extends||i),n.Extends=t,t!==i&&s(e,t,t.StaticsWhiteList),o.call(e,n),a(e)},i.extend=function(t){return t||(t={}),t.Extends=this,i.create(t)},i.Mutators={Extends:function(t){var n=this.prototype,e=c(t.prototype);s(e,n),e.constructor=this,this.prototype=e,this.superclass=t.prototype},Implements:function(t){l(t)||(t=[t]);for(var n,e=this.prototype;n=t.shift();)s(e,n.prototype||n)},Statics:function(t){s(this,t)}};var c=Object.__proto__?function(t){return{__proto__:t}}:function(t){return r.prototype=t,new r},u=Object.prototype.toString,l=Array.isArray||function(t){return"[object Array]"===u.call(t)},p=function(t){return"[object Function]"===u.call(t)},f=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var e=0,i=t.length;i>e;e++)if(t[e]===n)return e;return-1};e.exports=i}),define("api/ui",["lib/ooClass/class"],function(t,n,e){var i=t("lib/ooClass/class"),o=i.create({initialize:function(){},show:function(t,n){t=t||"",plus.nativeUI.showWaiting(t,n)},hide:function(){plus.nativeUI.closeWaiting()}}),a=i.create({initialize:function(){},confirm:function(t){t=t||{};var n=t.buttons||["确认","取消"];plus.nativeUI.confirm(t.content,function(n){"0"==n.index&&t.onConfrim&&t.onConfrim(n)},t.title,n)}}),r=i.create({initialize:function(){},tip:function(t){var t;t=t||{},window.plus?"Android"!=plus.os.name?(t.content=t.content||"",t.onClose=t.onClose||null,t.title=t.title||"",t.doneStr=t.doneStr||"好",plus.nativeUI.alert(t.content,function(){t.onClose&&t.onClose()},t.title,t.doneStr)):(t=t||{},t.duration=t.duration||"short",t.align=t.align||"center",t.verticalAlign=t.verticalAlign||"bottom",t.content=t.content||"",plus.nativeUI.toast(t.content)):alert(t.content)}}),s=i.create({initialize:function(){},pick:function(t,n,e){e=e||{},plus.nativeUI.pickDate(function(n){var e=n.date,i={};i.year=e.getFullYear(),i.month=e.getMonth(),i.day=e.getDate(),i.hour=e.getHours(),i.min=e.getMinutes(),i.sec=e.getSeconds(),t&&t(i)},function(t){n&&n(t.message)},e)}}),c=i.create({initialize:function(){},pick:function(t,n,e){e=e||{},plus.nativeUI.pickTime(function(n){var e=n.date,i={};i.hour=e.getHours(),i.min=e.getMinutes(),i.sec=e.getSeconds(),t&&t(i)},function(t){n&&n(t.message)},e)}}),u=new r,l=new a,p=new o,f=new s,h=new c,d=i.create({initialize:function(){},uiInfo:u,uiConfirm:l,uiLoading:p,uiCalendar:f,uiTime:h});e.exports=d}),define("api/pageStorage",["lib/ooClass/class"],function(t){var n=t("lib/ooClass/class"),e=n.create({initialize:function(){this.pageName="arrPage"},change:function(){var t=localStorage.arrPage,n=t?JSON.parse(t):[];return n},save:function(t,n){localStorage[t]=JSON.stringify(n)},add:function(t){var n=this.change();n.push(t),this.save(this.pageName,n)},clear:function(){localStorage[this.pageName]=""},judgeSame:function(t,n,e){var i=this.change();-1==i.indexOf(t)?n&&n(t):e&&e(t)}}),i=new e;return i});