/*! company 罗格斯达 version 1.0.0 2015-06-17 */
define("widget/qcode/jqcode",[],function(){(function(e){e.fn.qrcode=function(t){"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},t);var r=function(){var e=new QRCode(t.typeNumber,t.correctLevel);e.addData(t.text),e.make();var r=document.createElement("canvas");r.width=t.width,r.height=t.height;for(var i=r.getContext("2d"),n=t.width/e.getModuleCount(),o=t.height/e.getModuleCount(),a=0;e.getModuleCount()>a;a++)for(var s=0;e.getModuleCount()>s;s++){i.fillStyle=e.isDark(a,s)?t.foreground:t.background;var c=Math.ceil((s+1)*n)-Math.floor(s*n),l=Math.ceil((a+1)*n)-Math.floor(a*n);i.fillRect(Math.round(s*n),Math.round(a*o),c,l)}return r},i=function(){var r=new QRCode(t.typeNumber,t.correctLevel);r.addData(t.text),r.make();for(var i=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),n=t.width/r.getModuleCount(),o=t.height/r.getModuleCount(),a=0;r.getModuleCount()>a;a++)for(var s=e("<tr></tr>").css("height",o+"px").appendTo(i),c=0;r.getModuleCount()>c;c++)e("<td></td>").css("width",n+"px").css("background-color",r.isDark(a,c)?t.foreground:t.background).appendTo(s);return i};return this.each(function(){var n="canvas"==t.render?r():i();e(n).appendTo(this)})}})($)});